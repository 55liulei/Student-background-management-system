{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/components/AppNavbar/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/components/AppNavbar/index.vue","mtime":1658477960540},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBtZW51TGlzdCBmcm9tICJAL2NvbmZpZy9tZW51Q29uZmlnLmpzIjsKaW1wb3J0IG1lbW9yeVV0aWxzIGZyb20gIi4uLy4uL3V0aWxzL21lbW9yeVV0aWxzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW51Tm9kZXM6ICIiLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLm1lbnVOb2RlcyA9IHRoaXMuZ2V0TWVudU5vZGVzKG1lbnVMaXN0KTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIHJlbmRlcigpIHsKICAgIHJldHVybiAoCiAgICAgIDxkaXYgY2xhc3M9Im5hdmJhciI+CiAgICAgICAgPGVsLW1lbnUKICAgICAgICAgIHJvdXRlcj17dHJ1ZX0KICAgICAgICAgIGRlZmF1bHQtYWN0aXZlPXt0aGlzLiRyb3V0ZS5wYXRofQogICAgICAgICAgZGVmYXVsdC1vcGVuZWRzPXtbIi9zdHVkZW50cyJdfQogICAgICAgICAgY2xhc3M9ImVsLW1lbnUtdmVydGljYWwtZGVtbyIKICAgICAgICAgIGJhY2tncm91bmQtY29sb3I9IiM1NDVjNjQiCiAgICAgICAgICB0ZXh0LWNvbG9yPSIjZmZmIgogICAgICAgICAgYWN0aXZlLXRleHQtY29sb3I9IiNmZmQwNGIiCiAgICAgICAgPgogICAgICAgICAge3RoaXMubWVudU5vZGVzfQogICAgICAgIDwvZWwtbWVudT4KICAgICAgPC9kaXY+CiAgICApOwogIH0sCiAgbWV0aG9kczogewogICAgaGFzQXV0aChpdGVtKSB7CiAgICAgIGNvbnN0IHsgaW5kZXgsIGlzUHVibGljIH0gPSBpdGVtOwogICAgICBjb25zdCBtZW51cyA9IG1lbW9yeVV0aWxzLnVzZXIucm9sZS5tZW51czsKICAgICAgLy8gY29uc29sZS5sb2cobWVtb3J5VXRpbHMpOwogICAgICAvLyBjb25zb2xlLmxvZyhtZW51cyk7CiAgICAgIGNvbnN0IHVzZXJuYW1lID0gbWVtb3J5VXRpbHMudXNlci51c2VybmFtZTsKICAgICAgLy8gIOWmguaenOW9k+WJjeeUqOaIt2FkbWluICA944CL5YWo6YOo6YCa6L+HCiAgICAgIC8vICDlpoLmnpzlvZPliY1pdGVt5piv5YWs5byA55qECiAgICAgIC8vICDlvZPliY3nlKjmiLfmnInmraRpdGVt55qE5p2D6ZmQICBpbmRleOaYr+WQpuWcqG1lbnVz5LitCiAgICAgIGlmICh1c2VybmFtZSA9PSAiYWRtaW4iIHx8IGlzUHVibGljIHx8IG1lbnVzLmluZGV4T2YoaW5kZXgpICE9PSAtMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAvL+WmguaenOW9k+WJjeeUqOaIt+acieatpGl0ZW3nmoTmn5DkuKrlrZBpdGVt5p2D6ZmQCiAgICAgICAgLy/mn6XnnIvlvZPliY1pdGVt55qE5a2Q6IqC54K55Lit55qEaW5kZXjml7blgJnlnKjnlKjmiLfmnYPpmZDliJfooajkuK3lrZjlnKjvvIxmaW5k5pa55rOV5Lya6L+U5Zue5a+55bqU55qE5YWD57Sg77yM5L2G5piv6ZyA6KaB55qE5piv5biD5bCU5YC85omA5Lul5Lik5qyh5Y+W5Y+N5by65Yi26L2s5o2iCiAgICAgICAgcmV0dXJuICEhaXRlbS5jaGlsZHJlbi5maW5kKAogICAgICAgICAgKGNoaWxkKSA9PiBtZW51cy5pbmRleE9mKGNoaWxkLmluZGV4KSAhPT0gLTEKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBnZXRNZW51Tm9kZXMobWVudUxpc3QpIHsKICAgICAgcmV0dXJuIG1lbnVMaXN0Lm1hcCgoaXRlbSkgPT4gewogICAgICAgIGlmICh0aGlzLmhhc0F1dGgoaXRlbSkpIHsKICAgICAgICAgIGlmICghaXRlbS5jaGlsZHJlbikgewogICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxlbC1tZW51LWl0ZW0gaW5kZXg9e2l0ZW0uaW5kZXh9PgogICAgICAgICAgICAgICAgPGkgY2xhc3M9e2l0ZW0uaWNvbn0+PC9pPgogICAgICAgICAgICAgICAgPHNwYW4gc2xvdD0idGl0bGUiPntpdGVtLnRpdGxlfTwvc3Bhbj4KICAgICAgICAgICAgICA8L2VsLW1lbnUtaXRlbT4KICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgPGVsLXN1Ym1lbnUgaW5kZXg9e2l0ZW0uaW5kZXh9PgogICAgICAgICAgICAgICAgPHRlbXBsYXRlIHNsb3Q9InRpdGxlIj4KICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9e2l0ZW0uaWNvbn0+PC9pPgogICAgICAgICAgICAgICAgICA8c3Bhbj57aXRlbS50aXRsZX08L3NwYW4+CiAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPgogICAgICAgICAgICAgICAge3RoaXMuZ2V0TWVudU5vZGVzKGl0ZW0uY2hpbGRyZW4pfQogICAgICAgICAgICAgIDwvZWwtc3VibWVudT4KICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/AppNavbar","sourcesContent":["<script>\nimport menuList from \"@/config/menuConfig.js\";\nimport memoryUtils from \"../../utils/memoryUtils\";\nexport default {\n  data() {\n    return {\n      menuNodes: \"\",\n    };\n  },\n  mounted() {\n    this.menuNodes = this.getMenuNodes(menuList);\n  },\n  components: {},\n  render() {\n    return (\n      <div class=\"navbar\">\n        <el-menu\n          router={true}\n          default-active={this.$route.path}\n          default-openeds={[\"/students\"]}\n          class=\"el-menu-vertical-demo\"\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\"\n        >\n          {this.menuNodes}\n        </el-menu>\n      </div>\n    );\n  },\n  methods: {\n    hasAuth(item) {\n      const { index, isPublic } = item;\n      const menus = memoryUtils.user.role.menus;\n      // console.log(memoryUtils);\n      // console.log(menus);\n      const username = memoryUtils.user.username;\n      //  如果当前用户admin  =》全部通过\n      //  如果当前item是公开的\n      //  当前用户有此item的权限  index是否在menus中\n      if (username == \"admin\" || isPublic || menus.indexOf(index) !== -1) {\n        return true;\n      } else if (item.children) {\n        //如果当前用户有此item的某个子item权限\n        //查看当前item的子节点中的index时候在用户权限列表中存在，find方法会返回对应的元素，但是需要的是布尔值所以两次取反强制转换\n        return !!item.children.find(\n          (child) => menus.indexOf(child.index) !== -1\n        );\n      }\n      return false;\n    },\n    getMenuNodes(menuList) {\n      return menuList.map((item) => {\n        if (this.hasAuth(item)) {\n          if (!item.children) {\n            return (\n              <el-menu-item index={item.index}>\n                <i class={item.icon}></i>\n                <span slot=\"title\">{item.title}</span>\n              </el-menu-item>\n            );\n          } else {\n            return (\n              <el-submenu index={item.index}>\n                <template slot=\"title\">\n                  <i class={item.icon}></i>\n                  <span>{item.title}</span>\n                </template>\n                {this.getMenuNodes(item.children)}\n              </el-submenu>\n            );\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  position: absolute;\n  width: 230px;\n  top: 50px;\n  left: 0px;\n  bottom: 0px;\n  overflow-y: auto;\n  background-color: #545c64;\n}\n</style>"]}]}