{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue","mtime":1658978993884},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdHVkZW50QXBpIGZyb20gIkAvYXBpL3N0dWRlbnQuanMiOwppbXBvcnQgdXNlckFwaSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IGNsYXNzQXBpIGZyb20gIkAvYXBpL2NsYXNzcy5qcyI7CmltcG9ydCBzY2hvb2xBcGkgZnJvbSAiQC9hcGkvc2Nob29sLmpzIjsKaW1wb3J0IG1ham9yQXBpIGZyb20gIkAvYXBpL21ham9yLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlQXBpOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogICAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZJQ0VfVVJMLAogICAgICBzdHVkZW50czogW10sCiAgICAgIHRvdGFsUGFnZTogMSwKICAgICAgcGFnZVNpemU6IDUsIC8v5q+P6aG15pi+56S65p2h5pWwCiAgICAgIGN1cnJlbnRQYWdlOiAxLCAvL+W9k+WJjemhtQogICAgICB0b3RhbDogMCwgLy/mgLvorqEKICAgICAgc2VhcmNoTWFwOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZGlyZWN0aW9uOiAiIiwKICAgICAgICBjbGFzczogIiIsCiAgICAgICAgdGVhY2hlcl9pZDogIiIsCiAgICAgICAgbWFuYWdlcl9pZDogIiIsCiAgICAgIH0sCiAgICAgIHNlYXJjaDogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGRpcmVjdGlvbjogIiIsCiAgICAgICAgY2xhc3M6ICIiLAogICAgICAgIHRlYWNoZXI6ICIiLAogICAgICAgIG1hbmFnZXI6ICIiLAogICAgICB9LAogICAgICBnZW5kZXJPcHRpb25zOiBbCiAgICAgICAgLy/mgKfliKsKICAgICAgICB7IHR5cGU6ICIwIiwgbmFtZTogIueUtyIgfSwKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIuWlsyIgfSwKICAgICAgXSwKICAgICAgZ3JhZGVPcHRpb25zOiBbCiAgICAgICAgLy/lubTnuqrliJfooagKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIuWkp+S4gCIgfSwKICAgICAgICB7IHR5cGU6ICIyIiwgbmFtZTogIuWkp+S6jCIgfSwKICAgICAgICB7IHR5cGU6ICIzIiwgbmFtZTogIuWkp+S4iSIgfSwKICAgICAgICB7IHR5cGU6ICI0IiwgbmFtZTogIuWkp+WbmyIgfSwKICAgICAgICB7IHR5cGU6ICI1IiwgbmFtZTogIueglOeptueUnyIgfSwKICAgICAgXSwKICAgICAgZWR1Y2F0aW9uT3B0aW9uczogWwogICAgICAgIC8v5a2m5Y6G5YiX6KGoCiAgICAgICAgeyB0eXBlOiAiMSIsIG5hbWU6ICLkuJPnp5EiIH0sCiAgICAgICAgeyB0eXBlOiAiMiIsIG5hbWU6ICLmnKznp5EiIH0sCiAgICAgICAgeyB0eXBlOiAiMyIsIG5hbWU6ICLnoZXlo6siIH0sCiAgICAgICAgeyB0eXBlOiAiNCIsIG5hbWU6ICLnpL7kvJrkurrlo6siIH0sCiAgICAgIF0sCiAgICAgIGRpcmVjdGlvbk9wdGlvbnM6IFsKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIldlYuWJjeerryIgfSwKICAgICAgICB7IHR5cGU6ICIyIiwgbmFtZTogIkphdmEiIH0sCiAgICAgICAgeyB0eXBlOiAiMyIsIG5hbWU6ICJVSS9VRSIgfSwKICAgICAgICB7IHR5cGU6ICI0IiwgbmFtZTogIkMvQysrIiB9LAogICAgICBdLAogICAgICBzY2hvb2xPcHRpb25zOiBbXSwgLy/lrabmoKHliJfooagKICAgICAgbWFqb3JPcHRpb25zOiBbXSwgLy/kuJPkuJrliJfooagKICAgICAgY2xhc3NPcHRpb25zOiBbXSwgLy/nj63nuqfliJfooagKICAgICAgdGVhY2hlck9wdGlvbnM6IFtdLCAvL+aVmeW4iOWIl+ihqAogICAgICBtYW5hZ2VyT3B0aW9uczogW10sIC8v5a2m566h5YiX6KGoCiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgZGF0YUZpbHRlcih0eXBlLCBkYXRhT3B0aW9ucykgewogICAgICBjb25zdCBvYmogPSBkYXRhT3B0aW9ucy5maW5kKChvYmopID0+IG9iai50eXBlID09IHR5cGUpOwogICAgICByZXR1cm4gb2JqID8gb2JqLm5hbWUgOiBudWxsOwogICAgfSwKICAgIHRlYWNoZXJPck1hbmFnZXJGaWx0ZXIoX2lkLCBvcHRpb25zKSB7CiAgICAgIGNvbnN0IG9iaiA9IG9wdGlvbnMuZmluZCgob2JqKSA9PiBvYmouX2lkID09IF9pZCk7CiAgICAgIHJldHVybiBvYmogPyBvYmoubmFtZSA6IG51bGw7CiAgICB9LAogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpOwogICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgdGhpcy5nZXRDbGFzc0xpc3QoKTsKICAgIHRoaXMuZ2V0U2Nob29sTGlzdCgpOwogICAgdGhpcy5nZXRNYWpvckxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoU3R1ZGVudHMoKSB7CiAgICAgIGlmKHRoaXMuY3VycmVudFBhZ2UgPiBNYXRoLmNlaWwodGhpcy50b3RhbFBhZ2UpKXsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gTWF0aC5jZWlsKHRoaXMudG90YWxQYWdlKQogICAgICB9CiAgICAgIHN0dWRlbnRBcGkKICAgICAgICAuZ2V0U3R1ZGVudExpc3QodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5wYWdlU2l6ZSwgdGhpcy5zZWFyY2hNYXApCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICAgIHRoaXMuc3R1ZGVudHMgPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyTGlzdCgpIHsKICAgICAgdXNlckFwaS5nZXRVc2VyQWxsKCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zdCByZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChyZXMuc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMudXNlckFsbCA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy51c2VyQWxsLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgaWYgKGl0ZW0ucm9sZV9pZCA9PT0gIjYyZGEwZmY0M2QzMDNiNTAxZDQwNDRjYSIpIHsKICAgICAgICAgICAgICB0aGlzLnRlYWNoZXJPcHRpb25zLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICAgICAgaXRlbS5yb2xlX2lkID09PSAiNjJkNjdlMjNhYzI3YjEzYTBlOGJkMmU3IiB8fAogICAgICAgICAgICAgICI2MmRhMTk2OTNkMzAzYjUwMWQ0MDQ1OGEiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMubWFuYWdlck9wdGlvbnMucHVzaChpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluaJgOacieePree6pwogICAgZ2V0Q2xhc3NMaXN0KCkgewogICAgICBjbGFzc0FwaS5nZXRDbGFzc0FsbCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMuY2xhc3NPcHRpb25zID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bmiYDmnInlrabmoKEKICAgIGdldFNjaG9vbExpc3QoKSB7CiAgICAgIHNjaG9vbEFwaS5nZXRTY2hvb2xBbGwoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB0aGlzLnNjaG9vbE9wdGlvbnMgPSByZXNwLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluaJgOacieS4k+S4mgogICAgZ2V0TWFqb3JMaXN0KCkgewogICAgICBtYWpvckFwaS5nZXRNYWpvckFsbCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMubWFqb3JPcHRpb25zID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2V0U3JjTGlzdChpbWdMaXN0KSB7CiAgICAgIHJldHVybiBpbWdMaXN0Lm1hcCgoaXRlbSkgPT4gdGhpcy5iYXNlVXJsICsgIi91cGxvYWQvIiArIGl0ZW0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpOwogICAgfSwKICAgIHNlYXJjaERhdGEoKSB7CiAgICAgIC8v6I635Y+W5p+l6K+i6KGo5Y2V5Lit6L6T5YWl55qE5pWZ5biI5oiW5a2m566hICDlnKjnlKjmiLfliJfooajkuK3moLnmja7lkI3np7Dmn6Xor6Llr7nlupRpZCDotYvlgLzliLDmn6Xor6LmnaHku7blr7nosaHkuK0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIGNvbnN0IHJlc1RlYWNoZXIgPQogICAgICAgIHRoaXMudXNlckFsbC5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IHRoaXMuc2VhcmNoLnRlYWNoZXIpIHx8IHt9OwogICAgICBjb25zdCByZXNNYW5hZ2VyID0KICAgICAgICB0aGlzLnVzZXJBbGwuZmluZCgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSB0aGlzLnNlYXJjaC5tYW5hZ2VyKSB8fCB7fTsKICAgICAgLy8gIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQ9cmVzVGVhY2hlci5faWQgfHwgIiIgIOS4jeWtmOWcqOaVmeW4iOi/lOWbnuaJgOacieaVsOaNrgoKICAgICAgLy/lpoLmnpzmn6Xor6LliLDlr7nlupTnmoTmlZnluIjlsLHkuLrmn6Xor6LmnaHku7blr7nosaHnmoTmlZnluIhpZOi1i+WAvAogICAgICBpZiAocmVzVGVhY2hlci5faWQpIHsKICAgICAgICB0aGlzLnNlYXJjaE1hcC50ZWFjaGVyX2lkID0gcmVzVGVhY2hlci5faWQ7CiAgICAgICAgLy/lpoLmnpzovpPlhaXkuobmlZnluIjlkI3np7DvvIjkuI3lrZjlnKjnmoTvvInlsLHotYvlgLzkuLotMSDpmLLmraLlkI7nq6/mn6Xor6Lml7bov5Tlm57miYDmnInmlbDmja4KICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaC50ZWFjaGVyKSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAudGVhY2hlcl9pZCA9ICItMSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAudGVhY2hlcl9pZCA9ICIiOwogICAgICB9CiAgICAgIGlmIChyZXNNYW5hZ2VyLl9pZCkgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLm1hbmFnZXJfaWQgPSByZXNNYW5hZ2VyLl9pZDsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlYXJjaC5tYW5hZ2VyKSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAubWFuYWdlcl9pZCA9IC0iLTEiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLm1hbmFnZXJfaWQgPSAiIjsKICAgICAgfQogICAgICB0aGlzLnNlYXJjaE1hcC5kaXJlY3Rpb24gPSB0aGlzLnNlYXJjaC5kaXJlY3Rpb24gfHwgIiI7CiAgICAgIHRoaXMuc2VhcmNoTWFwLm5hbWUgPSB0aGlzLnNlYXJjaC5uYW1lIHx8ICIiOwogICAgICB0aGlzLnNlYXJjaE1hcC5jbGFzcyA9IHRoaXMuc2VhcmNoLmNsYXNzIHx8ICIiOwogICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgIH0sCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3R1ZGVudC91cGRhdGUvLTFgKTsKICAgIH0sCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBoYW5kbGVFZGl0KF9pZCl7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9zdHVkZW50L3VwZGF0ZS8ke19pZH1gKQogICAgfSwKICAgIGhhbmRsZURlbGV0ZShfaWQpewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTor6XlrablkZjlkJfvvJ8nLCfmj5DnpLonLHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDoi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiLlj5bmtogiLAogICAgICAgIHR5cGU6Indhcm5pbmciCiAgICAgIH0pLnRoZW4oKCk9PnsKICAgICAgICAvL3llYWgKICAgICAgICBzdHVkZW50QXBpLmRlbGV0ZVN0dWRlbnRCeUlkKF9pZCkudGhlbigocmVzcG9uc2UpPT57CiAgICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOnJlc3Auc3RhdHVzPT0wPyAic3VjY2VzcyIgOiJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6cmVzcC5tc2cKICAgICAgICAgIH0pCiAgICAgICAgICBpZihyZXNwLnN0YXR1cz09MCl7CiAgICAgICAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCk9PnsKCiAgICAgIH0pCiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["Student.vue"],"names":[],"mappings":";AA0NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Student.vue","sourceRoot":"src/views/students","sourcesContent":["<template>\n  <div>\n    <!-- 条件查询 -->\n    <el-form\n      :inline=\"true\"\n      :model=\"search\"\n      ref=\"searchForm\"\n      style=\"margin: 20px\"\n    >\n      <el-form-item prop=\"name\">\n        <el-input\n          v-model=\"search.name\"\n          placeholder=\"根据姓名查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item prop=\"directiom\">\n        <el-select\n          v-model=\"search.direction\"\n          placeholder=\"根据学习方向查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in directionOptions\"\n            :key=\"option.type\"\n            :label=\"option.name\"\n            :value=\"option.type\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"class\">\n        <el-select\n          v-model=\"search.class\"\n          placeholder=\"根据班级查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in classOptions\"\n            :key=\"option._id\"\n            :label=\"option.name\"\n            :value=\"option.name\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"teacher\">\n        <el-input\n          v-model=\"search.teacher\"\n          placeholder=\"根据教师查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item prop=\"manager\">\n        <el-input\n          v-model=\"search.manager\"\n          placeholder=\"根据学管查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchData\"\n          >查询</el-button\n        >\n        <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"handleAdd\"\n          >新增</el-button\n        >\n        <el-button @click=\"resetForm('searchForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 列表 -->\n    <el-table :data=\"students\" style=\"width: 100%\" border>\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"学员名字\">\n              <span>{{ props.row.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <span>{{ props.row.gender | dataFilter(genderOptions) }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在学校\">\n              <span>{{ props.row.school }}</span>\n            </el-form-item>\n            <el-form-item label=\"专业\">\n              <span>{{ props.row.major }}</span>\n            </el-form-item>\n            <el-form-item label=\"年级\">\n              <span>{{ props.row.grade | dataFilter(gradeOptions) }}</span>\n            </el-form-item>\n            <el-form-item label=\"学历\">\n              <span>{{\n                props.row.education | dataFilter(educationOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学习方向\">\n              <span>{{\n                props.row.direction | dataFilter(directionOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"身份证号\">\n              <span>{{ props.row.id_number }}</span>\n            </el-form-item>\n            <el-form-item label=\"联系电话\">\n              <span>{{ props.row.phone }}</span>\n            </el-form-item>\n            <el-form-item label=\"家长姓名\">\n              <span>{{ props.row.parent }}</span>\n            </el-form-item>\n            <el-form-item label=\"家庭住址\">\n              <span>{{ props.row.address }}</span>\n            </el-form-item>\n            <el-form-item label=\"QQ号码\">\n              <span>{{ props.row.qq }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在班级\">\n              <span>{{ props.row.class }}</span>\n            </el-form-item>\n            <el-form-item label=\"入学时间\">\n              <span>{{ props.row.admisson_date }}</span>\n            </el-form-item>\n            <el-form-item label=\"授课教师\">\n              <span>{{\n                props.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学管\">\n              <span>{{\n                props.row.manager_id | teacherOrManagerFilter(managerOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"照片\">\n              <!-- <span>{{ props.row.pictures }}</span> -->\n              <el-image\n                :key=\"index\"\n                v-for=\"(item, index) in props.row.pictures\"\n                style=\"width: 200px\"\n                :src=\"baseUrl + '/upload/' + item\"\n                :preview-src-list=\"setSrcList(prop.row.pictures)\"\n              >\n              </el-image>\n            </el-form-item>\n            <el-form-item label=\"备注\">\n              <span v-html=\"props.row.note \"></span>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"序号\" type=\"index\" width=\"100px\">\n      </el-table-column>\n      <el-table-column label=\"学员姓名\" prop=\"name\" width=\"150px\">\n      </el-table-column>\n      <el-table-column label=\"性别\" prop=\"gender\" width=\"80px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.gender | dataFilter(genderOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学习方向\" prop=\"direction\" width=\"100px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.direction | dataFilter(directionOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系电话\" prop=\"phone\"> </el-table-column>\n      <el-table-column label=\"所在班级\" prop=\"class\">\n        <!-- <span>\n          {{props.row.class}}\n        </span> -->\n      </el-table-column>\n      <el-table-column label=\"授课教师\" props=\"teacher_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学管\" props=\"manager_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.manager_id | teacherOrManagerFilter(managerOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"250\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row._id)\"\n            >编辑</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.row._id)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <div>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport studentApi from \"@/api/student.js\";\nimport userApi from \"@/api/user.js\";\nimport classApi from \"@/api/classs.js\";\nimport schoolApi from \"@/api/school.js\";\nimport majorApi from \"@/api/major.js\";\nexport default {\n  data() {\n    return {\n      baseApi: process.env.VUE_APP_BASE_API,\n      baseUrl: process.env.VUE_APP_SERVICE_URL,\n      students: [],\n      totalPage: 1,\n      pageSize: 5, //每页显示条数\n      currentPage: 1, //当前页\n      total: 0, //总计\n      searchMap: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher_id: \"\",\n        manager_id: \"\",\n      },\n      search: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher: \"\",\n        manager: \"\",\n      },\n      genderOptions: [\n        //性别\n        { type: \"0\", name: \"男\" },\n        { type: \"1\", name: \"女\" },\n      ],\n      gradeOptions: [\n        //年纪列表\n        { type: \"1\", name: \"大一\" },\n        { type: \"2\", name: \"大二\" },\n        { type: \"3\", name: \"大三\" },\n        { type: \"4\", name: \"大四\" },\n        { type: \"5\", name: \"研究生\" },\n      ],\n      educationOptions: [\n        //学历列表\n        { type: \"1\", name: \"专科\" },\n        { type: \"2\", name: \"本科\" },\n        { type: \"3\", name: \"硕士\" },\n        { type: \"4\", name: \"社会人士\" },\n      ],\n      directionOptions: [\n        { type: \"1\", name: \"Web前端\" },\n        { type: \"2\", name: \"Java\" },\n        { type: \"3\", name: \"UI/UE\" },\n        { type: \"4\", name: \"C/C++\" },\n      ],\n      schoolOptions: [], //学校列表\n      majorOptions: [], //专业列表\n      classOptions: [], //班级列表\n      teacherOptions: [], //教师列表\n      managerOptions: [], //学管列表\n    };\n  },\n  filters: {\n    dataFilter(type, dataOptions) {\n      const obj = dataOptions.find((obj) => obj.type == type);\n      return obj ? obj.name : null;\n    },\n    teacherOrManagerFilter(_id, options) {\n      const obj = options.find((obj) => obj._id == _id);\n      return obj ? obj.name : null;\n    },\n  },\n  components: {},\n  mounted() {\n    this.fetchStudents();\n    this.getUserList();\n    this.getClassList();\n    this.getSchoolList();\n    this.getMajorList();\n  },\n  methods: {\n    fetchStudents() {\n      if(this.currentPage > Math.ceil(this.totalPage)){\n        this.currentPage = Math.ceil(this.totalPage)\n      }\n      studentApi\n        .getStudentList(this.currentPage, this.pageSize, this.searchMap)\n        .then((response) => {\n          const resp = response.data;\n          if (resp.status == 0) {\n            this.students = resp.data.data;\n            this.total = resp.data.total;\n          }\n        });\n    },\n    getUserList() {\n      userApi.getUserAll().then((response) => {\n        const res = response.data;\n        if (res.status == 0) {\n          this.userAll = res.data;\n          this.userAll.forEach((item) => {\n            if (item.role_id === \"62da0ff43d303b501d4044ca\") {\n              this.teacherOptions.push(item);\n            } else if (\n              item.role_id === \"62d67e23ac27b13a0e8bd2e7\" ||\n              \"62da19693d303b501d40458a\"\n            ) {\n              this.managerOptions.push(item);\n            }\n          });\n        }\n      });\n    },\n    //获取所有班级\n    getClassList() {\n      classApi.getClassAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.classOptions = resp.data;\n        }\n      });\n    },\n    //获取所有学校\n    getSchoolList() {\n      schoolApi.getSchoolAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.schoolOptions = resp.data;\n        }\n      });\n    },\n    //获取所有专业\n    getMajorList() {\n      majorApi.getMajorAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.majorOptions = resp.data;\n        }\n      });\n    },\n    setSrcList(imgList) {\n      return imgList.map((item) => this.baseUrl + \"/upload/\" + item);\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.fetchStudents();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.fetchStudents();\n    },\n    searchData() {\n      //获取查询表单中输入的教师或学管  在用户列表中根据名称查询对应id 赋值到查询条件对象中\n      this.currentPage = 1;\n      const resTeacher =\n        this.userAll.find((item) => item.name === this.search.teacher) || {};\n      const resManager =\n        this.userAll.find((item) => item.name === this.search.manager) || {};\n      //  this.searchMap.teacher_id=resTeacher._id || \"\"  不存在教师返回所有数据\n\n      //如果查询到对应的教师就为查询条件对象的教师id赋值\n      if (resTeacher._id) {\n        this.searchMap.teacher_id = resTeacher._id;\n        //如果输入了教师名称（不存在的）就赋值为-1 防止后端查询时返回所有数据\n      } else if (this.search.teacher) {\n        this.searchMap.teacher_id = \"-1\";\n      } else {\n        this.searchMap.teacher_id = \"\";\n      }\n      if (resManager._id) {\n        this.searchMap.manager_id = resManager._id;\n      } else if (this.search.manager) {\n        this.searchMap.manager_id = -\"-1\";\n      } else {\n        this.searchMap.manager_id = \"\";\n      }\n      this.searchMap.direction = this.search.direction || \"\";\n      this.searchMap.name = this.search.name || \"\";\n      this.searchMap.class = this.search.class || \"\";\n      this.fetchStudents();\n    },\n    handleAdd() {\n      this.$router.push(`/student/update/-1`);\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    handleEdit(_id){\n        this.$router.push(`/student/update/${_id}`)\n    },\n    handleDelete(_id){\n      this.$confirm('确认删除该学员吗？','提示',{\n        confirmButtonText:\"确定\",\n        cancelButtonText:\"取消\",\n        type:\"warning\"\n      }).then(()=>{\n        //yeah\n        studentApi.deleteStudentById(_id).then((response)=>{\n          const resp = response.data;\n          this.$message({\n            type:resp.status==0? \"success\" :\"error\",\n            message:resp.msg\n          })\n          if(resp.status==0){\n            this.fetchStudents()\n          }\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>"]}]}