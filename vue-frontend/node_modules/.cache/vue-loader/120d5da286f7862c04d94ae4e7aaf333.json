{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue","mtime":1659090516284},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdHVkZW50QXBpIGZyb20gIkAvYXBpL3N0dWRlbnQuanMiOwppbXBvcnQgdXNlckFwaSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IGNsYXNzQXBpIGZyb20gIkAvYXBpL2NsYXNzcy5qcyI7CmltcG9ydCBzY2hvb2xBcGkgZnJvbSAiQC9hcGkvc2Nob29sLmpzIjsKaW1wb3J0IG1ham9yQXBpIGZyb20gIkAvYXBpL21ham9yLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlQXBpOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogICAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZJQ0VfVVJMLAogICAgICBzdHVkZW50czogW10sCiAgICAgIHRvdGFsUGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLCAvL+avj+mhteaYvuekuuadoeaVsAogICAgICBjdXJyZW50UGFnZTogMSwgLy/lvZPliY3pobUKICAgICAgdG90YWw6IDAsIC8v5oC76K6hCiAgICAgIHNlYXJjaE1hcDogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGRpcmVjdGlvbjogIiIsCiAgICAgICAgY2xhc3M6ICIiLAogICAgICAgIHRlYWNoZXJfaWQ6ICIiLAogICAgICAgIG1hbmFnZXJfaWQ6ICIiLAogICAgICB9LAogICAgICBzZWFyY2g6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBkaXJlY3Rpb246ICIiLAogICAgICAgIGNsYXNzOiAiIiwKICAgICAgICB0ZWFjaGVyOiAiIiwKICAgICAgICBtYW5hZ2VyOiAiIiwKICAgICAgfSwKICAgICAgZ2VuZGVyT3B0aW9uczogWwogICAgICAgIC8v5oCn5YirCiAgICAgICAgeyB0eXBlOiAiMCIsIG5hbWU6ICLnlLciIH0sCiAgICAgICAgeyB0eXBlOiAiMSIsIG5hbWU6ICLlpbMiIH0sCiAgICAgIF0sCiAgICAgIGdyYWRlT3B0aW9uczogWwogICAgICAgIC8v5bm057qq5YiX6KGoCiAgICAgICAgeyB0eXBlOiAiMSIsIG5hbWU6ICLlpKfkuIAiIH0sCiAgICAgICAgeyB0eXBlOiAiMiIsIG5hbWU6ICLlpKfkuowiIH0sCiAgICAgICAgeyB0eXBlOiAiMyIsIG5hbWU6ICLlpKfkuIkiIH0sCiAgICAgICAgeyB0eXBlOiAiNCIsIG5hbWU6ICLlpKflm5siIH0sCiAgICAgICAgeyB0eXBlOiAiNSIsIG5hbWU6ICLnoJTnqbbnlJ8iIH0sCiAgICAgIF0sCiAgICAgIGVkdWNhdGlvbk9wdGlvbnM6IFsKICAgICAgICAvL+WtpuWOhuWIl+ihqAogICAgICAgIHsgdHlwZTogIjEiLCBuYW1lOiAi5LiT56eRIiB9LAogICAgICAgIHsgdHlwZTogIjIiLCBuYW1lOiAi5pys56eRIiB9LAogICAgICAgIHsgdHlwZTogIjMiLCBuYW1lOiAi56GV5aOrIiB9LAogICAgICAgIHsgdHlwZTogIjQiLCBuYW1lOiAi56S+5Lya5Lq65aOrIiB9LAogICAgICBdLAogICAgICBkaXJlY3Rpb25PcHRpb25zOiBbCiAgICAgICAgeyB0eXBlOiAiMSIsIG5hbWU6ICJXZWLliY3nq68iIH0sCiAgICAgICAgeyB0eXBlOiAiMiIsIG5hbWU6ICJKYXZhIiB9LAogICAgICAgIHsgdHlwZTogIjMiLCBuYW1lOiAiVUkvVUUiIH0sCiAgICAgICAgeyB0eXBlOiAiNCIsIG5hbWU6ICJDL0MrKyIgfSwKICAgICAgXSwKICAgICAgc2Nob29sT3B0aW9uczogW10sIC8v5a2m5qCh5YiX6KGoCiAgICAgIG1ham9yT3B0aW9uczogW10sIC8v5LiT5Lia5YiX6KGoCiAgICAgIGNsYXNzT3B0aW9uczogW10sIC8v54+t57qn5YiX6KGoCiAgICAgIHRlYWNoZXJPcHRpb25zOiBbXSwgLy/mlZnluIjliJfooagKICAgICAgbWFuYWdlck9wdGlvbnM6IFtdLCAvL+WtpueuoeWIl+ihqAogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGRhdGFGaWx0ZXIodHlwZSwgZGF0YU9wdGlvbnMpIHsKICAgICAgY29uc3Qgb2JqID0gZGF0YU9wdGlvbnMuZmluZCgob2JqKSA9PiBvYmoudHlwZSA9PSB0eXBlKTsKICAgICAgcmV0dXJuIG9iaiA/IG9iai5uYW1lIDogbnVsbDsKICAgIH0sCiAgICB0ZWFjaGVyT3JNYW5hZ2VyRmlsdGVyKF9pZCwgb3B0aW9ucykgewogICAgICBjb25zdCBvYmogPSBvcHRpb25zLmZpbmQoKG9iaikgPT4gb2JqLl9pZCA9PSBfaWQpOwogICAgICByZXR1cm4gb2JqID8gb2JqLm5hbWUgOiBudWxsOwogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIHRoaXMuZ2V0Q2xhc3NMaXN0KCk7CiAgICB0aGlzLmdldFNjaG9vbExpc3QoKTsKICAgIHRoaXMuZ2V0TWFqb3JMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaFN0dWRlbnRzKCkgewogICAgICBzdHVkZW50QXBpCiAgICAgICAgLmdldFN0dWRlbnRMaXN0KHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucGFnZVNpemUsIHRoaXMuc2VhcmNoTWFwKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgICB0aGlzLnN0dWRlbnRzID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgZ2V0VXNlckxpc3QoKSB7CiAgICAgIHVzZXJBcGkuZ2V0VXNlckFsbCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB0aGlzLnVzZXJBbGwgPSByZXMuZGF0YTsKICAgICAgICAgIHRoaXMudXNlckFsbC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgIGlmIChpdGVtLnJvbGVfaWQgPT09ICI2MmRhMGZmNDNkMzAzYjUwMWQ0MDQ0Y2EiKSB7CiAgICAgICAgICAgICAgdGhpcy50ZWFjaGVyT3B0aW9ucy5wdXNoKGl0ZW0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKAogICAgICAgICAgICAgIGl0ZW0ucm9sZV9pZCA9PT0gIjYyZDY3ZTIzYWMyN2IxM2EwZThiZDJlNyIgfHwKICAgICAgICAgICAgICAiNjJkYTE5NjkzZDMwM2I1MDFkNDA0NThhIgogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLm1hbmFnZXJPcHRpb25zLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bmiYDmnInnj63nuqcKICAgIGdldENsYXNzTGlzdCgpIHsKICAgICAgY2xhc3NBcGkuZ2V0Q2xhc3NBbGwoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB0aGlzLmNsYXNzT3B0aW9ucyA9IHJlc3AuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5omA5pyJ5a2m5qChCiAgICBnZXRTY2hvb2xMaXN0KCkgewogICAgICBzY2hvb2xBcGkuZ2V0U2Nob29sQWxsKCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdGhpcy5zY2hvb2xPcHRpb25zID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bmiYDmnInkuJPkuJoKICAgIGdldE1ham9yTGlzdCgpIHsKICAgICAgbWFqb3JBcGkuZ2V0TWFqb3JBbGwoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB0aGlzLm1ham9yT3B0aW9ucyA9IHJlc3AuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldFNyY0xpc3QoaW1nTGlzdCkgewogICAgICByZXR1cm4gaW1nTGlzdC5tYXAoKGl0ZW0pID0+IHRoaXMuYmFzZVVybCArICIvdXBsb2FkLyIgKyBpdGVtKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgICAKICAgIH0sCiAgICBzZWFyY2hEYXRhKCkgewogICAgICAvL+iOt+WPluafpeivouihqOWNleS4rei+k+WFpeeahOaVmeW4iOaIluWtpueuoSAg5Zyo55So5oi35YiX6KGo5Lit5qC55o2u5ZCN56ew5p+l6K+i5a+55bqUaWQg6LWL5YC85Yiw5p+l6K+i5p2h5Lu25a+56LGh5LitCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICBjb25zdCByZXNUZWFjaGVyID0KICAgICAgICB0aGlzLnVzZXJBbGwuZmluZCgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSB0aGlzLnNlYXJjaC50ZWFjaGVyKSB8fCB7fTsKICAgICAgY29uc3QgcmVzTWFuYWdlciA9CiAgICAgICAgdGhpcy51c2VyQWxsLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PT0gdGhpcy5zZWFyY2gubWFuYWdlcikgfHwge307CiAgICAgIC8vICB0aGlzLnNlYXJjaE1hcC50ZWFjaGVyX2lkPXJlc1RlYWNoZXIuX2lkIHx8ICIiICDkuI3lrZjlnKjmlZnluIjov5Tlm57miYDmnInmlbDmja4KCiAgICAgIC8v5aaC5p6c5p+l6K+i5Yiw5a+55bqU55qE5pWZ5biI5bCx5Li65p+l6K+i5p2h5Lu25a+56LGh55qE5pWZ5biIaWTotYvlgLwKICAgICAgaWYgKHJlc1RlYWNoZXIuX2lkKSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAudGVhY2hlcl9pZCA9IHJlc1RlYWNoZXIuX2lkOwogICAgICAgIC8v5aaC5p6c6L6T5YWl5LqG5pWZ5biI5ZCN56ew77yI5LiN5a2Y5Zyo55qE77yJ5bCx6LWL5YC85Li6LTEg6Ziy5q2i5ZCO56uv5p+l6K+i5pe26L+U5Zue5omA5pyJ5pWw5o2uCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2gudGVhY2hlcikgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQgPSAiLTEiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQgPSAiIjsKICAgICAgfQogICAgICBpZiAocmVzTWFuYWdlci5faWQpIHsKICAgICAgICB0aGlzLnNlYXJjaE1hcC5tYW5hZ2VyX2lkID0gcmVzTWFuYWdlci5faWQ7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2gubWFuYWdlcikgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLm1hbmFnZXJfaWQgPSAtIi0xIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlYXJjaE1hcC5tYW5hZ2VyX2lkID0gIiI7CiAgICAgIH0KICAgICAgdGhpcy5zZWFyY2hNYXAuZGlyZWN0aW9uID0gdGhpcy5zZWFyY2guZGlyZWN0aW9uIHx8ICIiOwogICAgICB0aGlzLnNlYXJjaE1hcC5uYW1lID0gdGhpcy5zZWFyY2gubmFtZSB8fCAiIjsKICAgICAgdGhpcy5zZWFyY2hNYXAuY2xhc3MgPSB0aGlzLnNlYXJjaC5jbGFzcyB8fCAiIjsKICAgICAgdGhpcy5mZXRjaFN0dWRlbnRzKCk7CiAgICB9LAogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRlbnQvdXBkYXRlLy0xYCk7CiAgICB9LAogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgaGFuZGxlRWRpdChfaWQpewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc3R1ZGVudC91cGRhdGUvJHtfaWR9YCkKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoX2lkKXsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5Yig6Zmk6K+l5a2m5ZGY5ZCX77yfJywn5o+Q56S6Jyx7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDoi5Y+W5raIIiwKICAgICAgICB0eXBlOiJ3YXJuaW5nIgogICAgICB9KS50aGVuKCgpPT57CiAgICAgICAgLy95ZWFoCiAgICAgICAgc3R1ZGVudEFwaS5kZWxldGVTdHVkZW50QnlJZChfaWQpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTpyZXNwLnN0YXR1cz09MD8gInN1Y2Nlc3MiIDoiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOnJlc3AubXNnCiAgICAgICAgICB9KQogICAgICAgICAgaWYocmVzcC5zdGF0dXM9PTApewogICAgICAgICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpPT57CgogICAgICB9KQogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Student.vue"],"names":[],"mappings":";AA0NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Student.vue","sourceRoot":"src/views/students","sourcesContent":["<template>\n  <div>\n    <!-- 条件查询 -->\n    <el-form\n      :inline=\"true\"\n      :model=\"search\"\n      ref=\"searchForm\"\n      style=\"margin: 20px\"\n    >\n      <el-form-item prop=\"name\">\n        <el-input\n          v-model=\"search.name\"\n          placeholder=\"根据姓名查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item prop=\"directiom\">\n        <el-select\n          v-model=\"search.direction\"\n          placeholder=\"根据学习方向查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in directionOptions\"\n            :key=\"option.type\"\n            :label=\"option.name\"\n            :value=\"option.type\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"class\">\n        <el-select\n          v-model=\"search.class\"\n          placeholder=\"根据班级查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in classOptions\"\n            :key=\"option._id\"\n            :label=\"option.name\"\n            :value=\"option.name\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"teacher\">\n        <el-input\n          v-model=\"search.teacher\"\n          placeholder=\"根据教师查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item prop=\"manager\">\n        <el-input\n          v-model=\"search.manager\"\n          placeholder=\"根据学管查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchData\"\n          >查询</el-button\n        >\n        <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"handleAdd\"\n          >新增</el-button\n        >\n        <el-button @click=\"resetForm('searchForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 列表 -->\n    <el-table :data=\"students\" style=\"width: 100%\" border>\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"学员名字\">\n              <span>{{ props.row.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <span>{{ props.row.gender | dataFilter(genderOptions) }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在学校\">\n              <span>{{ props.row.school }}</span>\n            </el-form-item>\n            <el-form-item label=\"专业\">\n              <span>{{ props.row.major }}</span>\n            </el-form-item>\n            <el-form-item label=\"年级\">\n              <span>{{ props.row.grade | dataFilter(gradeOptions) }}</span>\n            </el-form-item>\n            <el-form-item label=\"学历\">\n              <span>{{\n                props.row.education | dataFilter(educationOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学习方向\">\n              <span>{{\n                props.row.direction | dataFilter(directionOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"身份证号\">\n              <span>{{ props.row.id_number }}</span>\n            </el-form-item>\n            <el-form-item label=\"联系电话\">\n              <span>{{ props.row.phone }}</span>\n            </el-form-item>\n            <el-form-item label=\"家长姓名\">\n              <span>{{ props.row.parent }}</span>\n            </el-form-item>\n            <el-form-item label=\"家庭住址\">\n              <span>{{ props.row.address }}</span>\n            </el-form-item>\n            <el-form-item label=\"QQ号码\">\n              <span>{{ props.row.qq }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在班级\">\n              <span>{{ props.row.class }}</span>\n            </el-form-item>\n            <el-form-item label=\"入学时间\">\n              <span>{{ props.row.admisson_date }}</span>\n            </el-form-item>\n            <el-form-item label=\"授课教师\">\n              <span>{{\n                props.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学管\">\n              <span>{{\n                props.row.manager_id | teacherOrManagerFilter(managerOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"照片\">\n              <!-- <span>{{ props.row.pictures }}</span> -->\n              <el-image\n                :key=\"index\"\n                v-for=\"(item, index) in props.row.pictures\"\n                style=\"width: 200px\"\n                :src=\"baseUrl + '/upload/' + item\"\n                :preview-src-list=\"setSrcList(prop.row.pictures)\"\n              >\n              </el-image>\n            </el-form-item>\n            <el-form-item label=\"备注\">\n              <span v-html=\"props.row.note \"></span>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"序号\" type=\"index\" width=\"100px\">\n      </el-table-column>\n      <el-table-column label=\"学员姓名\" prop=\"name\" width=\"150px\">\n      </el-table-column>\n      <el-table-column label=\"性别\" prop=\"gender\" width=\"80px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.gender | dataFilter(genderOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学习方向\" prop=\"direction\" width=\"100px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.direction | dataFilter(directionOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系电话\" prop=\"phone\"> </el-table-column>\n      <el-table-column label=\"所在班级\" prop=\"class\">\n        <!-- <span>\n          {{props.row.class}}\n        </span> -->\n      </el-table-column>\n      <el-table-column label=\"授课教师\" props=\"teacher_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学管\" props=\"manager_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.manager_id | teacherOrManagerFilter(managerOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"250\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row._id)\"\n            >编辑</el-button\n          >\n          <el-button\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(scope.row._id)\"\n            >删除</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <div>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 30]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport studentApi from \"@/api/student.js\";\nimport userApi from \"@/api/user.js\";\nimport classApi from \"@/api/classs.js\";\nimport schoolApi from \"@/api/school.js\";\nimport majorApi from \"@/api/major.js\";\nexport default {\n  data() {\n    return {\n      baseApi: process.env.VUE_APP_BASE_API,\n      baseUrl: process.env.VUE_APP_SERVICE_URL,\n      students: [],\n      totalPage: 1,\n      pageSize: 10, //每页显示条数\n      currentPage: 1, //当前页\n      total: 0, //总计\n      searchMap: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher_id: \"\",\n        manager_id: \"\",\n      },\n      search: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher: \"\",\n        manager: \"\",\n      },\n      genderOptions: [\n        //性别\n        { type: \"0\", name: \"男\" },\n        { type: \"1\", name: \"女\" },\n      ],\n      gradeOptions: [\n        //年纪列表\n        { type: \"1\", name: \"大一\" },\n        { type: \"2\", name: \"大二\" },\n        { type: \"3\", name: \"大三\" },\n        { type: \"4\", name: \"大四\" },\n        { type: \"5\", name: \"研究生\" },\n      ],\n      educationOptions: [\n        //学历列表\n        { type: \"1\", name: \"专科\" },\n        { type: \"2\", name: \"本科\" },\n        { type: \"3\", name: \"硕士\" },\n        { type: \"4\", name: \"社会人士\" },\n      ],\n      directionOptions: [\n        { type: \"1\", name: \"Web前端\" },\n        { type: \"2\", name: \"Java\" },\n        { type: \"3\", name: \"UI/UE\" },\n        { type: \"4\", name: \"C/C++\" },\n      ],\n      schoolOptions: [], //学校列表\n      majorOptions: [], //专业列表\n      classOptions: [], //班级列表\n      teacherOptions: [], //教师列表\n      managerOptions: [], //学管列表\n    };\n  },\n  filters: {\n    dataFilter(type, dataOptions) {\n      const obj = dataOptions.find((obj) => obj.type == type);\n      return obj ? obj.name : null;\n    },\n    teacherOrManagerFilter(_id, options) {\n      const obj = options.find((obj) => obj._id == _id);\n      return obj ? obj.name : null;\n    },\n  },\n  components: {},\n  mounted() {\n    this.fetchStudents();\n    this.getUserList();\n    this.getClassList();\n    this.getSchoolList();\n    this.getMajorList();\n  },\n  methods: {\n    fetchStudents() {\n      studentApi\n        .getStudentList(this.currentPage, this.pageSize, this.searchMap)\n        .then((response) => {\n          const resp = response.data;\n          if (resp.status == 0) {\n            this.students = resp.data.data;\n            this.total = resp.data.total;\n          }\n        });\n    },\n    getUserList() {\n      userApi.getUserAll().then((response) => {\n        const res = response.data;\n        if (res.status == 0) {\n          this.userAll = res.data;\n          this.userAll.forEach((item) => {\n            if (item.role_id === \"62da0ff43d303b501d4044ca\") {\n              this.teacherOptions.push(item);\n            } else if (\n              item.role_id === \"62d67e23ac27b13a0e8bd2e7\" ||\n              \"62da19693d303b501d40458a\"\n            ) {\n              this.managerOptions.push(item);\n            }\n          });\n        }\n      });\n    },\n    //获取所有班级\n    getClassList() {\n      classApi.getClassAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.classOptions = resp.data;\n        }\n      });\n    },\n    //获取所有学校\n    getSchoolList() {\n      schoolApi.getSchoolAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.schoolOptions = resp.data;\n        }\n      });\n    },\n    //获取所有专业\n    getMajorList() {\n      majorApi.getMajorAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.majorOptions = resp.data;\n        }\n      });\n    },\n    setSrcList(imgList) {\n      return imgList.map((item) => this.baseUrl + \"/upload/\" + item);\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.fetchStudents();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.fetchStudents();\n     \n    },\n    searchData() {\n      //获取查询表单中输入的教师或学管  在用户列表中根据名称查询对应id 赋值到查询条件对象中\n      this.currentPage = 1;\n      const resTeacher =\n        this.userAll.find((item) => item.name === this.search.teacher) || {};\n      const resManager =\n        this.userAll.find((item) => item.name === this.search.manager) || {};\n      //  this.searchMap.teacher_id=resTeacher._id || \"\"  不存在教师返回所有数据\n\n      //如果查询到对应的教师就为查询条件对象的教师id赋值\n      if (resTeacher._id) {\n        this.searchMap.teacher_id = resTeacher._id;\n        //如果输入了教师名称（不存在的）就赋值为-1 防止后端查询时返回所有数据\n      } else if (this.search.teacher) {\n        this.searchMap.teacher_id = \"-1\";\n      } else {\n        this.searchMap.teacher_id = \"\";\n      }\n      if (resManager._id) {\n        this.searchMap.manager_id = resManager._id;\n      } else if (this.search.manager) {\n        this.searchMap.manager_id = -\"-1\";\n      } else {\n        this.searchMap.manager_id = \"\";\n      }\n      this.searchMap.direction = this.search.direction || \"\";\n      this.searchMap.name = this.search.name || \"\";\n      this.searchMap.class = this.search.class || \"\";\n      this.fetchStudents();\n    },\n    handleAdd() {\n      this.$router.push(`/student/update/-1`);\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    handleEdit(_id){\n        this.$router.push(`/student/update/${_id}`)\n    },\n    handleDelete(_id){\n      this.$confirm('确认删除该学员吗？','提示',{\n        confirmButtonText:\"确定\",\n        cancelButtonText:\"取消\",\n        type:\"warning\"\n      }).then(()=>{\n        //yeah\n        studentApi.deleteStudentById(_id).then((response)=>{\n          const resp = response.data;\n          this.$message({\n            type:resp.status==0? \"success\" :\"error\",\n            message:resp.msg\n          })\n          if(resp.status==0){\n            this.fetchStudents()\n          }\n        })\n      }).catch(()=>{\n\n      })\n    }\n  },\n};\n</script>\n\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>"]}]}