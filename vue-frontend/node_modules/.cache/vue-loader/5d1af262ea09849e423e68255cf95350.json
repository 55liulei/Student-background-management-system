{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/StudentUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/StudentUpdate.vue","mtime":1658910614923},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdHVkZW50QXBpIGZyb20gIkAvYXBpL3N0dWRlbnQuanMiOwppbXBvcnQgdXNlckFwaSBmcm9tICJAL2FwaS91c2VyLmpzIjsKaW1wb3J0IGNsYXNzQXBpIGZyb20gIkAvYXBpL2NsYXNzcy5qcyI7CmltcG9ydCBzY2hvb2xBcGkgZnJvbSAiQC9hcGkvc2Nob29sLmpzIjsKaW1wb3J0IG1ham9yQXBpIGZyb20gIkAvYXBpL21ham9yLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlQXBpOnByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksIC8v5Zu+54mH5LiK5Lyg5Zyw5Z2A5ou85o6l6L+b6KGM5Luj55CG6K+35rGCCiAgICAgIGJhc2VVcmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVklDRV9VUkwsLy8g5Luj55CGdXJs5Zyw5Z2A77yM5bGV56S65Zu+54mH5pe25ou85o6l5L2/55SoCiAgICAgIHVwZGF0ZVN0dWRlbnQ6IHsKICAgICAgICBfaWQ6IG51bGwsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZ2VuZGVyOiAiIiwKICAgICAgICBzY2hvb2w6ICIiLAogICAgICAgIG1ham9yOiAiIiwKICAgICAgICBncmFkZTogIiIsCiAgICAgICAgZWR1Y2F0aW9uOiAiIiwKICAgICAgICBkaXJlY3Rpb246ICIiLAogICAgICAgIGlkX251bWJlcjogIiIsCiAgICAgICAgcGhvbmU6ICIiLAogICAgICAgIHBhcmVudDogIiIsCiAgICAgICAgcGFyZW50X3Bob25lOiAiIiwKICAgICAgICBhZGRyZXNzOiAiIiwKICAgICAgICBxcTogIiIsCiAgICAgICAgY2xhc3M6ICIiLAogICAgICAgIGFkZG1pc3Npb25fZGF0ZTogIiIsCiAgICAgICAgdGVhY2hlcl9pZDogIiIsCiAgICAgICAgbWFuYWdlcl9pZDogIiIsCiAgICAgICAgcGljdHVyZXM6ICIiLAogICAgICAgIG5vdGU6ICIiLAogICAgICB9LAogICAgICBydWxlczoge30sCiAgICAgIHVzZXJBbGw6IFtdLAogICAgICBnZW5kZXJPcHRpb25zOiBbCiAgICAgICAgLy/mgKfliKsKICAgICAgICB7IHR5cGU6ICIwIiwgbmFtZTogIueUtyIgfSwKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIuWlsyIgfSwKICAgICAgXSwKICAgICAgZ3JhZGVPcHRpb25zOiBbCiAgICAgICAgLy/lubTnuqrliJfooagKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIuWkp+S4gCIgfSwKICAgICAgICB7IHR5cGU6ICIyIiwgbmFtZTogIuWkp+S6jCIgfSwKICAgICAgICB7IHR5cGU6ICIzIiwgbmFtZTogIuWkp+S4iSIgfSwKICAgICAgICB7IHR5cGU6ICI0IiwgbmFtZTogIuWkp+WbmyIgfSwKICAgICAgICB7IHR5cGU6ICI1IiwgbmFtZTogIueglOeptueUnyIgfSwKICAgICAgXSwKICAgICAgZWR1Y2F0aW9uT3B0aW9uczogWwogICAgICAgIC8v5a2m5Y6G5YiX6KGoCiAgICAgICAgeyB0eXBlOiAiMSIsIG5hbWU6ICLkuJPnp5EiIH0sCiAgICAgICAgeyB0eXBlOiAiMiIsIG5hbWU6ICLmnKznp5EiIH0sCiAgICAgICAgeyB0eXBlOiAiMyIsIG5hbWU6ICLnoZXlo6siIH0sCiAgICAgICAgeyB0eXBlOiAiNCIsIG5hbWU6ICLnpL7kvJrkurrlo6siIH0sCiAgICAgIF0sCiAgICAgIGRpcmVjdGlvbk9wdGlvbnM6IFsKICAgICAgICB7IHR5cGU6ICIxIiwgbmFtZTogIldlYuWJjeerryIgfSwKICAgICAgICB7IHR5cGU6ICIyIiwgbmFtZTogIkphdmEiIH0sCiAgICAgICAgeyB0eXBlOiAiMyIsIG5hbWU6ICJVSS9VRSIgfSwKICAgICAgICB7IHR5cGU6ICI0IiwgbmFtZTogIkMvQysrIiB9LAogICAgICBdLAogICAgICBzY2hvb2xPcHRpb25zOiBbXSwgLy/lrabmoKHliJfooagKICAgICAgbWFqb3JPcHRpb25zOiBbXSwgLy/kuJPkuJrliJfooagKICAgICAgY2xhc3NPcHRpb25zOiBbXSwgLy/nj63nuqfliJfooagKICAgICAgdGVhY2hlck9wdGlvbnM6IFtdLCAvL+aVmeW4iOWIl+ihqAogICAgICBtYW5hZ2VyT3B0aW9uczogW10sIC8v5a2m566h5YiX6KGoCiAgICAgIHBpY3R1cmVEaWFsb2dWaXNpYmxlOiBmYWxzZSwgLy/lpKflm77mmK/lkKbmmL7npLoKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICIiLCAvL+aYvuekuuWkp+WbvuWcsOWdgAogICAgICBkaXNhYmxlZDogZmFsc2UsIC8v5p+l55yL5aSn5Zu+IOS4i+i9vSDliKDpmaTmjInpkq7mmK/lkKbmmL7npLoKICAgICAgZmlsZUxpc3Q6IFtdLCAvL+aJgOacieW3suS4iuS8oOWbvueJh+eahOaVsOe7hAogICAgfTsKICB9LAoKICBjb21wb25lbnRzOiB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDbGFzc0xpc3QoKSwKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpLAogICAgICB0aGlzLmdldFNjaG9vbExpc3QoKSwKICAgICAgdGhpcy5nZXRNYWpvckxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHF1ZXJ5U2VhcmNoU2Nob29sKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICB2YXIgc2Nob29sT3B0aW9ucyA9IHRoaXMuc2Nob29sT3B0aW9uczsKICAgICAgdmFyIHJlc3VsdHMgPSBxdWVyeVN0cmluZwogICAgICAgID8gc2Nob29sT3B0aW9ucy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKQogICAgICAgIDogc2Nob29sT3B0aW9uczsKICAgICAgLy8g6LCD55SoIGNhbGxiYWNrIOi/lOWbnuW7uuiuruWIl+ihqOeahOaVsOaNrgogICAgICBjYihyZXN1bHRzKTsKICAgIH0sCiAgICBxdWVyeVNlYXJjaE1ham9yKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICB2YXIgbWFqb3JPcHRpb25zID0gdGhpcy5tYWpvck9wdGlvbnM7CiAgICAgIHZhciByZXN1bHRzID0gcXVlcnlTdHJpbmcKICAgICAgICA/IG1ham9yT3B0aW9ucy5maWx0ZXIodGhpcy5jcmVhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKQogICAgICAgIDogbWFqb3JPcHRpb25zOwogICAgICAvLyDosIPnlKggY2FsbGJhY2sg6L+U5Zue5bu66K6u5YiX6KGo55qE5pWw5o2uCiAgICAgIGNiKHJlc3VsdHMpOwogICAgfSwKICAgIGNyZWF0ZUZpbHRlcihxdWVyeVN0cmluZykgewogICAgICByZXR1cm4gKHJlc3RhdXJhbnQpID0+IHsKICAgICAgICByZXR1cm4gcmVzdGF1cmFudC52YWx1ZS5pbmRleE9mKHF1ZXJ5U3RyaW5nLnRvTG93ZXJDYXNlKCkpID09PSAwOwogICAgICB9OwogICAgfSwKICAgIGFkZERhdGUoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBhbGVydCgic3VibWl0Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZURhdGEoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBhbGVydCgic3VibWl0Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJMaXN0KCkgewogICAgICB1c2VyQXBpLmdldFVzZXJBbGwoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnN0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdGhpcy51c2VyQWxsID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnVzZXJBbGwuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICBpZiAoaXRlbS5yb2xlX2lkID09PSAiNjJkYTBmZjQzZDMwM2I1MDFkNDA0NGNhIikgewogICAgICAgICAgICAgIHRoaXMudGVhY2hlck9wdGlvbnMucHVzaChpdGVtKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAgICAgICBpdGVtLnJvbGVfaWQgPT09ICI2MmQ2N2UyM2FjMjdiMTNhMGU4YmQyZTciIHx8CiAgICAgICAgICAgICAgIjYyZGExOTY5M2QzMDNiNTAxZDQwNDU4YSIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyT3B0aW9ucy5wdXNoKGl0ZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5omA5pyJ54+t57qnCiAgICBnZXRDbGFzc0xpc3QoKSB7CiAgICAgIGNsYXNzQXBpLmdldENsYXNzQWxsKCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdGhpcy5jbGFzc09wdGlvbnMgPSByZXNwLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluaJgOacieWtpuagoQogICAgZ2V0U2Nob29sTGlzdCgpIHsKICAgICAgc2Nob29sQXBpLmdldFNjaG9vbEFsbCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMuc2Nob29sT3B0aW9ucyA9IHJlc3AuZGF0YTsKICAgICAgICAgIGNvbnN0IGFyciA9IHJlc3AuZGF0YTsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuc2Nob29sT3B0aW9uc1tpXS52YWx1ZSA9IGFycltpXS5zY2hvb2xuYW1lOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bmiYDmnInkuJPkuJoKICAgIGdldE1ham9yTGlzdCgpIHsKICAgICAgbWFqb3JBcGkKICAgICAgICAuZ2V0TWFqb3JBbGwoKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgICB0aGlzLm1ham9yT3B0aW9ucyA9IHJlc3AuZGF0YTsKICAgICAgICAgICAgY29uc3QgYXJyID0gcmVzcC5kYXRhOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHRoaXMubWFqb3JPcHRpb25zW2ldLnZhbHVlID0gYXJyW2ldLm5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZXJyIiwgZXJyKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmUoZmlsZSkgewogICAgICBzdHVkZW50QXBpLnJlcURlbGV0ZUltZyhmaWxlLm5hbWUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMuZmlsZUxpc3Quc3BsaWNlKHRoaXMuZmlsZUxpc3QuaW5kZXhPZihmaWxlLm5hbWUpLCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAgIC8v5p+l55yL5aSn5Zu+CiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgdGhpcy5waWN0dXJlRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlRG93bmxvYWQoZmlsZSkgewogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2UoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKGZpbGUuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IGZpbGUucmVzcG9uc2U7CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgY29uc3QgeyBuYW1lLCB1cmwgfSA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgZmlsZSA9IGZpbGVMaXN0W2ZpbGVMaXN0Lmxlbmd0aCAtIDFdOwogICAgICAgICAgZmlsZS5uYW1lID0gbmFtZTsKICAgICAgICAgIGZpbGUudXJsID0gdXJsOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgZ2V0SW1ncygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsZUxpc3QubWFwKChmaWxlKSA9PiBmaWxlLm5hbWUpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["StudentUpdate.vue"],"names":[],"mappings":";AA0NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentUpdate.vue","sourceRoot":"src/views/students","sourcesContent":["<template>\n  <div class=\"student-update\">\n    <el-button\n      icon=\"el-icon-arrow-left\"\n      circle\n      @click=\"$router.replace('/student')\"\n    ></el-button>\n    <el-form\n      ref=\"studentForm\"\n      :model=\"updateStudent\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      label-position=\"right\"\n      style=\"width: 100%; height: 100%\"\n      class=\"update-form\"\n    >\n      <div class=\"content\">\n        <div>\n          <el-form-item label=\"姓名\" prop=\"name\">\n            <el-input v-model=\"updateStudent.name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"性别\" prop=\"gender\">\n            <el-select v-model=\"updateStudent.gender\" placeholder=\"请点击选择\">\n              <el-option\n                v-for=\"option in genderOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"学校\" prop=\"school\">\n            <el-autocomplete\n              class=\"inline-input\"\n              v-model=\"updateStudent.school\"\n              :fetch-suggestions=\"querySearchSchool\"\n              placeholder=\"请输入内容\"\n            ></el-autocomplete>\n          </el-form-item>\n          <el-form-item label=\"专业\" prop=\"major\">\n            <el-autocomplete\n              class=\"inline-input\"\n              v-model=\"updateStudent.major\"\n              :fetch-suggestions=\"querySearchMajor\"\n              placeholder=\"请输入内容\"\n            ></el-autocomplete>\n          </el-form-item>\n          <el-form-item label=\"年级\" prop=\"grade\">\n            <el-select v-model=\"updateStudent.grade\" placeholder=\"请点击选择\">\n              <el-option\n                v-for=\"option in gradeOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"学历\" prop=\"education\">\n            <el-select\n              v-model=\"updateStudent.education\"\n              placeholder=\"请点击选择\"\n            >\n              <el-option\n                v-for=\"option in educationOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"学习方向\" prop=\"direction\">\n            <el-select\n              v-model=\"updateStudent.direction\"\n              placeholder=\"请点击选择\"\n            >\n              <el-option\n                v-for=\"option in directionOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n        <div>\n          <el-form-item label=\"身份证号\" prop=\"id_number\">\n            <el-input v-model=\"updateStudent.id_number\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"电话号码\" prop=\"phone\">\n            <el-input v-model=\"updateStudent.phone\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"家长姓名\" prop=\"parent\">\n            <el-input v-model=\"updateStudent.parent\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"家长联系电话\" prop=\"parent_phone\">\n            <el-input v-model=\"updateStudent.parent_phone\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"家庭住址\" prop=\"address\">\n            <el-input v-model=\"updateStudent.address\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"QQ\" prop=\"qq\">\n            <el-input v-model=\"updateStudent.qq\"></el-input>\n          </el-form-item>\n        </div>\n        <div>\n          <el-form-item label=\"所在班级\" prop=\"class\">\n            <el-select v-model=\"updateStudent.class\" placeholder=\"请点击选择\">\n              <el-option\n                v-for=\"option in classOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"入学时间\" prop=\"addmission_date\">\n            <el-date-picker\n              v-model=\"updateStudent.addmission_date\"\n              type=\"date\"\n              placeholder=\"选择日期\"\n              value-format=\"yyyy-MM-dd\"\n            >\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"教师\" prop=\"teacher_id\">\n            <el-select\n              v-model=\"updateStudent.teacher_id\"\n              placeholder=\"请点击选择\"\n            >\n              <el-option\n                v-for=\"option in teacherOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"学管\" prop=\"manager_id\">\n            <el-select\n              v-model=\"updateStudent.manager_id\"\n              placeholder=\"请点击选择\"\n            >\n              <el-option\n                v-for=\"option in managerOptions\"\n                :key=\"option.type\"\n                :label=\"option.name\"\n                :value=\"option.type\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"照片\" prop=\"pictures\">\n            <el-upload\n             :action=\"baseApi+'/manage/img/upload'\"\n              list-type=\"picture-card\"\n              :auto-upload=\"true\"\n              :file-list=\"fileList\"\n              name=\"image\"\n              accept=\"image/*\"\n              :on-change=\"handleChange\"\n            >\n              <i slot=\"default\" class=\"el-icon-plus\"></i>\n              <div slot=\"file\" slot-scope=\"{ file }\">\n                <img\n                  class=\"el-upload-list__item-thumbnail\"\n                  :src=\"file.url\"\n                  alt=\"\"\n                />\n                <span class=\"el-upload-list__item-actions\">\n                  <span\n                    class=\"el-upload-list__item-preview\"\n                    @click=\"handlePictureCardPreview(file)\"\n                  >\n                    <i class=\"el-icon-zoom-in\"></i>\n                  </span>\n                  <span\n                    v-if=\"!disabled\"\n                    class=\"el-upload-list__item-delete\"\n                    @click=\"handleDownload(file)\"\n                  >\n                    <i class=\"el-icon-download\"></i>\n                  </span>\n                  <span\n                    v-if=\"!disabled\"\n                    class=\"el-upload-list__item-delete\"\n                    @click=\"handleRemove(file)\"\n                  >\n                    <i class=\"el-icon-delete\"></i>\n                  </span>\n                </span>\n              </div>\n            </el-upload>\n            <el-dialog :visible.sync=\"pictureDialogVisible\">\n              <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n            </el-dialog>\n          </el-form-item>\n        </div>\n      </div>\n      <div>\n        <el-form-item label=\"备注信息\" prop=\"note\">\n            <el-input v-model=\"updateStudent.note\"></el-input>\n          </el-form-item></div>\n\n      <el-form-item>\n        <el-button\n          type=\"primary\"\n          @click=\"\n            updateStudent._id == null\n              ? addData('studentForm')\n              : updateData('studentForm')\n          \"\n          >确定</el-button\n        >\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport studentApi from \"@/api/student.js\";\nimport userApi from \"@/api/user.js\";\nimport classApi from \"@/api/classs.js\";\nimport schoolApi from \"@/api/school.js\";\nimport majorApi from \"@/api/major.js\";\nexport default {\n  data() {\n    return {\n      baseApi:process.env.VUE_APP_BASE_API, //图片上传地址拼接进行代理请求\n      baseUrl: process.env.VUE_APP_SERVICE_URL,// 代理url地址，展示图片时拼接使用\n      updateStudent: {\n        _id: null,\n        name: \"\",\n        gender: \"\",\n        school: \"\",\n        major: \"\",\n        grade: \"\",\n        education: \"\",\n        direction: \"\",\n        id_number: \"\",\n        phone: \"\",\n        parent: \"\",\n        parent_phone: \"\",\n        address: \"\",\n        qq: \"\",\n        class: \"\",\n        addmission_date: \"\",\n        teacher_id: \"\",\n        manager_id: \"\",\n        pictures: \"\",\n        note: \"\",\n      },\n      rules: {},\n      userAll: [],\n      genderOptions: [\n        //性别\n        { type: \"0\", name: \"男\" },\n        { type: \"1\", name: \"女\" },\n      ],\n      gradeOptions: [\n        //年纪列表\n        { type: \"1\", name: \"大一\" },\n        { type: \"2\", name: \"大二\" },\n        { type: \"3\", name: \"大三\" },\n        { type: \"4\", name: \"大四\" },\n        { type: \"5\", name: \"研究生\" },\n      ],\n      educationOptions: [\n        //学历列表\n        { type: \"1\", name: \"专科\" },\n        { type: \"2\", name: \"本科\" },\n        { type: \"3\", name: \"硕士\" },\n        { type: \"4\", name: \"社会人士\" },\n      ],\n      directionOptions: [\n        { type: \"1\", name: \"Web前端\" },\n        { type: \"2\", name: \"Java\" },\n        { type: \"3\", name: \"UI/UE\" },\n        { type: \"4\", name: \"C/C++\" },\n      ],\n      schoolOptions: [], //学校列表\n      majorOptions: [], //专业列表\n      classOptions: [], //班级列表\n      teacherOptions: [], //教师列表\n      managerOptions: [], //学管列表\n      pictureDialogVisible: false, //大图是否显示\n      dialogImageUrl: \"\", //显示大图地址\n      disabled: false, //查看大图 下载 删除按钮是否显示\n      fileList: [], //所有已上传图片的数组\n    };\n  },\n\n  components: {},\n  mounted() {\n    this.getClassList(),\n      this.getUserList(),\n      this.getSchoolList(),\n      this.getMajorList();\n  },\n  methods: {\n    querySearchSchool(queryString, cb) {\n      var schoolOptions = this.schoolOptions;\n      var results = queryString\n        ? schoolOptions.filter(this.createFilter(queryString))\n        : schoolOptions;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    querySearchMajor(queryString, cb) {\n      var majorOptions = this.majorOptions;\n      var results = queryString\n        ? majorOptions.filter(this.createFilter(queryString))\n        : majorOptions;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    createFilter(queryString) {\n      return (restaurant) => {\n        return restaurant.value.indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    addDate(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert(\"submit\");\n        } else {\n          return false;\n        }\n      });\n    },\n    updateData(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert(\"submit\");\n        } else {\n          return false;\n        }\n      });\n    },\n    getUserList() {\n      userApi.getUserAll().then((response) => {\n        const res = response.data;\n        if (res.status == 0) {\n          this.userAll = res.data;\n          this.userAll.forEach((item) => {\n            if (item.role_id === \"62da0ff43d303b501d4044ca\") {\n              this.teacherOptions.push(item);\n            } else if (\n              item.role_id === \"62d67e23ac27b13a0e8bd2e7\" ||\n              \"62da19693d303b501d40458a\"\n            ) {\n              this.managerOptions.push(item);\n            }\n          });\n        }\n      });\n    },\n    //获取所有班级\n    getClassList() {\n      classApi.getClassAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.classOptions = resp.data;\n        }\n      });\n    },\n    //获取所有学校\n    getSchoolList() {\n      schoolApi.getSchoolAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.schoolOptions = resp.data;\n          const arr = resp.data;\n          for (let i = 0; i < arr.length; i++) {\n            this.schoolOptions[i].value = arr[i].schoolname;\n          }\n        }\n      });\n    },\n    //获取所有专业\n    getMajorList() {\n      majorApi\n        .getMajorAll()\n        .then((response) => {\n          const resp = response.data;\n          if (resp.status == 0) {\n            this.majorOptions = resp.data;\n            const arr = resp.data;\n            for (let i = 0; i < arr.length; i++) {\n              this.majorOptions[i].value = arr[i].name;\n            }\n          }\n        })\n        .catch((err) => {\n          console.log(\"err\", err);\n        });\n    },\n    handleRemove(file) {\n      studentApi.reqDeleteImg(file.name).then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.fileList.splice(this.fileList.indexOf(file.name), 1);\n        }\n      });\n    },\n    handlePictureCardPreview(file) {\n      //查看大图\n      this.dialogImageUrl = file.url;\n      this.pictureDialogVisible = true;\n    },\n    handleDownload(file) {\n      console.log(file);\n    },\n    handleChange(file, fileList) {\n      if (file.status == \"success\") {\n        const result = file.response;\n        if (result.status == 0) {\n          const { name, url } = result.data;\n          file = fileList[fileList.length - 1];\n          file.name = name;\n          file.url = url;\n        }\n      }\n      this.fileList = fileList;\n    },\n    getImgs() {\n      return this.fileList.map((file) => file.name);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.content {\n  display: flex;\n  justify-content: space-around;\n}\n.el-input {\n  width: 190px;\n}\n</style>"]}]}