{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/views/home/Home.vue","mtime":1659065495723},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBzdHVkZW50QXBpIGZyb20gIkAvYXBpL3N0dWRlbnQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVjaGFydFByYWN0aWNlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgeWVhcjogbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLAogICAgfTsKICB9LAoKICBjb21wb25lbnRzOiB7fSwKCiAgbWV0aG9kczogewogICAgZ2V0UHJlWWVhckRhdGUoKSB7CiAgICAgIHRoaXMueWVhci0tOwogICAgICB0aGlzLmdldENoYXJzKCk7CiAgICB9LAogICAgZ2V0TmV4dFllYXJEYXRlKCkgewogICAgICB0aGlzLnllYXIrKzsKICAgICAgdGhpcy5nZXRDaGFycygpOwogICAgfSwKICAgIGdldENoYXJzKCkgewogICAgICBzdHVkZW50QXBpLmdldFN0dWRlbnRMaXN0Rm9yTW9udGgodGhpcy55ZWFyKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB2YXIgY2hhckRvbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJteUNoYXJ0Iik7CiAgICAgICAgICB2YXIgbXlDaGFydCA9IHRoaXMuJGVjaGFydHMuaW5pdChjaGFyRG9tKTsKICAgICAgICAgIHZhciBvcHRpb247CiAgICAgICAgICBsZXQgZGF0YUFyciA9IFswXTsKICAgICAgICAgIGlmIChyZXNwLmRhdGEgJiYgcmVzcC5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICBkYXRhQXJyID0gcmVzcC5kYXRhLm1hcCgoaXRlbSkgPT4gewogICAgICAgICAgICAgIHJldHVybiBpdGVtLmNvdW50OwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6ICLlvZPliY3lubTku73ml6DmlbDmja4iLAogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBvcHRpb24gPSB7CiAgICAgICAgICAgIHhBeGlzOiB7CiAgICAgICAgICAgICAgdHlwZTogImNhdGVnb3J5IiwKICAgICAgICAgICAgICBkYXRhOiBbIkphbiIsICJGZWIiLCAiTWFyIiwgIkFwciIsJ01heScsJ0p1bicsJ0p1bCcsJ0F1ZycsJ1NlcCcsJ09jdCcsJ05vdicsJ0RlYyddLAogICAgICAgICAgICB9LAogICAgICAgICAgICB5QXhpczogewogICAgICAgICAgICAgICAgdHlwZToidmFsdWUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGRhdGE6ZGF0YUFyciwKICAgICAgICAgICAgICAgIHR5cGU6ImJhciIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfTsKICAgICAgICAgIG9wdGlvbiYmbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q2hhcnMoKTsKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div class=\"EchartPractice\">\n    <div id=\"main\">\n      <h1 class=\"home_title\">\n        <el-button type=\"primary\" icon=\"el-icon-arrow-left\" @click=\"getPreYearDate\"\n          >上一年</el-button\n        >\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <span>{{ year }}</span\n        ><span>年学生数量</span>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <el-button @click=\"getNextYearDate\" type=\"primary\" \n          >下一年<i class=\"el-icon-arrow-right el-icon--right\"></i\n        ></el-button>\n      </h1>\n      <div id=\"myChart\" :style=\"{ width:'600px' , height:'60vh'}\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport studentApi from \"@/api/student.js\";\nexport default {\n  name: \"EchartPractice\",\n  data() {\n    return {\n      year: new Date().getFullYear(),\n    };\n  },\n\n  components: {},\n\n  methods: {\n    getPreYearDate() {\n      this.year--;\n      this.getChars();\n    },\n    getNextYearDate() {\n      this.year++;\n      this.getChars();\n    },\n    getChars() {\n      studentApi.getStudentListForMonth(this.year).then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          var charDom = document.getElementById(\"myChart\");\n          var myChart = this.$echarts.init(charDom);\n          var option;\n          let dataArr = [0];\n          if (resp.data && resp.data.length) {\n            dataArr = resp.data.map((item) => {\n              return item.count;\n            });\n          } else {\n            this.$message({\n              message: \"当前年份无数据\",\n              type: \"warning\",\n              duration: 5000,\n            });\n          }\n          option = {\n            xAxis: {\n              type: \"category\",\n              data: [\"Jan\", \"Feb\", \"Mar\", \"Apr\",'May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],\n            },\n            yAxis: {\n                type:\"value\"\n            },\n            series: [\n              {\n                data:dataArr,\n                type:\"bar\"\n              },\n            ],\n          };\n          option&&myChart.setOption(option)\n        }\n      });\n    },\n  },\n  mounted() {\n    this.getChars();\n  },\n};\n</script>\n\n<style scoped>\n#main {\n  width: 600px;\n  height: 400px;\n  margin: auto;\n  margin-top: 100px;\n}\n.home_title{\n    text-align: center;\n}\n.home_title span{\n    vertical-align: bottom;\n}\n</style>"]}]}