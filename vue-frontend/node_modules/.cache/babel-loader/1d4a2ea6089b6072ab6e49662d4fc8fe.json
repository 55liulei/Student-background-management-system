{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js!/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/components/AppNavbar/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/components/AppNavbar/index.vue","mtime":1658477960540},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/babel.config.js","mtime":1658195622849},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IG1lbnVMaXN0IGZyb20gIkAvY29uZmlnL21lbnVDb25maWcuanMiOwppbXBvcnQgbWVtb3J5VXRpbHMgZnJvbSAiLi4vLi4vdXRpbHMvbWVtb3J5VXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnVOb2RlczogIiIKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubWVudU5vZGVzID0gdGhpcy5nZXRNZW51Tm9kZXMobWVudUxpc3QpOwogIH0sCgogIGNvbXBvbmVudHM6IHt9LAoKICByZW5kZXIoKSB7CiAgICBjb25zdCBoID0gYXJndW1lbnRzWzBdOwogICAgcmV0dXJuIGgoImRpdiIsIHsKICAgICAgImNsYXNzIjogIm5hdmJhciIKICAgIH0sIFtoKCJlbC1tZW51IiwgewogICAgICAiYXR0cnMiOiB7CiAgICAgICAgInJvdXRlciI6IHRydWUsCiAgICAgICAgImRlZmF1bHQtYWN0aXZlIjogdGhpcy4kcm91dGUucGF0aCwKICAgICAgICAiZGVmYXVsdC1vcGVuZWRzIjogWyIvc3R1ZGVudHMiXSwKICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjNTQ1YzY0IiwKICAgICAgICAidGV4dC1jb2xvciI6ICIjZmZmIiwKICAgICAgICAiYWN0aXZlLXRleHQtY29sb3IiOiAiI2ZmZDA0YiIKICAgICAgfSwKICAgICAgImNsYXNzIjogImVsLW1lbnUtdmVydGljYWwtZGVtbyIKICAgIH0sIFt0aGlzLm1lbnVOb2Rlc10pXSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgaGFzQXV0aChpdGVtKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBpbmRleCwKICAgICAgICBpc1B1YmxpYwogICAgICB9ID0gaXRlbTsKICAgICAgY29uc3QgbWVudXMgPSBtZW1vcnlVdGlscy51c2VyLnJvbGUubWVudXM7IC8vIGNvbnNvbGUubG9nKG1lbW9yeVV0aWxzKTsKICAgICAgLy8gY29uc29sZS5sb2cobWVudXMpOwoKICAgICAgY29uc3QgdXNlcm5hbWUgPSBtZW1vcnlVdGlscy51c2VyLnVzZXJuYW1lOyAvLyAg5aaC5p6c5b2T5YmN55So5oi3YWRtaW4gID3jgIvlhajpg6jpgJrov4cKICAgICAgLy8gIOWmguaenOW9k+WJjWl0ZW3mmK/lhazlvIDnmoQKICAgICAgLy8gIOW9k+WJjeeUqOaIt+acieatpGl0ZW3nmoTmnYPpmZAgIGluZGV45piv5ZCm5ZyobWVudXPkuK0KCiAgICAgIGlmICh1c2VybmFtZSA9PSAiYWRtaW4iIHx8IGlzUHVibGljIHx8IG1lbnVzLmluZGV4T2YoaW5kZXgpICE9PSAtMSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAvL+WmguaenOW9k+WJjeeUqOaIt+acieatpGl0ZW3nmoTmn5DkuKrlrZBpdGVt5p2D6ZmQCiAgICAgICAgLy/mn6XnnIvlvZPliY1pdGVt55qE5a2Q6IqC54K55Lit55qEaW5kZXjml7blgJnlnKjnlKjmiLfmnYPpmZDliJfooajkuK3lrZjlnKjvvIxmaW5k5pa55rOV5Lya6L+U5Zue5a+55bqU55qE5YWD57Sg77yM5L2G5piv6ZyA6KaB55qE5piv5biD5bCU5YC85omA5Lul5Lik5qyh5Y+W5Y+N5by65Yi26L2s5o2iCiAgICAgICAgcmV0dXJuICEhaXRlbS5jaGlsZHJlbi5maW5kKGNoaWxkID0+IG1lbnVzLmluZGV4T2YoY2hpbGQuaW5kZXgpICE9PSAtMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgZ2V0TWVudU5vZGVzKG1lbnVMaXN0KSB7CiAgICAgIGNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICByZXR1cm4gbWVudUxpc3QubWFwKGl0ZW0gPT4gewogICAgICAgIGlmICh0aGlzLmhhc0F1dGgoaXRlbSkpIHsKICAgICAgICAgIGlmICghaXRlbS5jaGlsZHJlbikgewogICAgICAgICAgICByZXR1cm4gaCgiZWwtbWVudS1pdGVtIiwgewogICAgICAgICAgICAgICJhdHRycyI6IHsKICAgICAgICAgICAgICAgICJpbmRleCI6IGl0ZW0uaW5kZXgKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIFtoKCJpIiwgewogICAgICAgICAgICAgICJjbGFzcyI6IGl0ZW0uaWNvbgogICAgICAgICAgICB9KSwgaCgic3BhbiIsIHsKICAgICAgICAgICAgICAic2xvdCI6ICJ0aXRsZSIKICAgICAgICAgICAgfSwgW2l0ZW0udGl0bGVdKV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGgoImVsLXN1Ym1lbnUiLCB7CiAgICAgICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAgICAgImluZGV4IjogaXRlbS5pbmRleAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgW2goInRlbXBsYXRlIiwgewogICAgICAgICAgICAgICJzbG90IjogInRpdGxlIgogICAgICAgICAgICB9LCBbaCgiaSIsIHsKICAgICAgICAgICAgICAiY2xhc3MiOiBpdGVtLmljb24KICAgICAgICAgICAgfSksIGgoInNwYW4iLCBbaXRlbS50aXRsZV0pXSksIHRoaXMuZ2V0TWVudU5vZGVzKGl0ZW0uY2hpbGRyZW4pXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AACA;AACA;AACA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACA;EACA,CARA;;EASAC,cATA;;EAUAC;IAAA;IACA;MAAA,SACA;IADA;MAAA;QAAA,UAGA,IAHA;QAAA,kBAIA,gBAJA;QAAA,mBAKA,aALA;QAAA,oBAOA,SAPA;QAAA,cAQA,MARA;QAAA,qBASA;MATA;MAAA,SAMA;IANA,IAWA,cAXA;EAeA,CA1BA;;EA2BAC;IACAC;MACA;QAAAC;QAAAC;MAAA;MACA,0CAFA,CAGA;MACA;;MACA,2CALA,CAMA;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;QACA,4BACAC,0CADA;MAGA;;MACA;IACA,CApBA;;IAqBAC;MAAA;MACA;QACA;UACA;YACA;cAAA;gBAAA,SACAC;cADA;YAAA;cAAA,SAEAA;YAFA;cAAA,QAGA;YAHA,IAGAA,UAHA;UAMA,CAPA,MAOA;YACA;cAAA;gBAAA,SACAA;cADA;YAAA;cAAA,QAEA;YAFA;cAAA,SAGAA;YAHA,eAIAA,UAJA,MAMA,gCANA;UASA;QACA;MACA,CArBA;IAsBA;;EA5CA;AA3BA","names":["data","menuNodes","mounted","components","render","methods","hasAuth","index","isPublic","child","getMenuNodes","item"],"sourceRoot":"src/components/AppNavbar","sources":["index.vue"],"sourcesContent":["<script>\nimport menuList from \"@/config/menuConfig.js\";\nimport memoryUtils from \"../../utils/memoryUtils\";\nexport default {\n  data() {\n    return {\n      menuNodes: \"\",\n    };\n  },\n  mounted() {\n    this.menuNodes = this.getMenuNodes(menuList);\n  },\n  components: {},\n  render() {\n    return (\n      <div class=\"navbar\">\n        <el-menu\n          router={true}\n          default-active={this.$route.path}\n          default-openeds={[\"/students\"]}\n          class=\"el-menu-vertical-demo\"\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\"\n        >\n          {this.menuNodes}\n        </el-menu>\n      </div>\n    );\n  },\n  methods: {\n    hasAuth(item) {\n      const { index, isPublic } = item;\n      const menus = memoryUtils.user.role.menus;\n      // console.log(memoryUtils);\n      // console.log(menus);\n      const username = memoryUtils.user.username;\n      //  如果当前用户admin  =》全部通过\n      //  如果当前item是公开的\n      //  当前用户有此item的权限  index是否在menus中\n      if (username == \"admin\" || isPublic || menus.indexOf(index) !== -1) {\n        return true;\n      } else if (item.children) {\n        //如果当前用户有此item的某个子item权限\n        //查看当前item的子节点中的index时候在用户权限列表中存在，find方法会返回对应的元素，但是需要的是布尔值所以两次取反强制转换\n        return !!item.children.find(\n          (child) => menus.indexOf(child.index) !== -1\n        );\n      }\n      return false;\n    },\n    getMenuNodes(menuList) {\n      return menuList.map((item) => {\n        if (this.hasAuth(item)) {\n          if (!item.children) {\n            return (\n              <el-menu-item index={item.index}>\n                <i class={item.icon}></i>\n                <span slot=\"title\">{item.title}</span>\n              </el-menu-item>\n            );\n          } else {\n            return (\n              <el-submenu index={item.index}>\n                <template slot=\"title\">\n                  <i class={item.icon}></i>\n                  <span>{item.title}</span>\n                </template>\n                {this.getMenuNodes(item.children)}\n              </el-submenu>\n            );\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.navbar {\n  position: absolute;\n  width: 230px;\n  top: 50px;\n  left: 0px;\n  bottom: 0px;\n  overflow-y: auto;\n  background-color: #545c64;\n}\n</style>"]}]}