{"remainingRequest":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js!/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liulei/Desktop/Vue/vue-frontend/src/views/students/Student.vue","mtime":1658910589665},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/babel.config.js","mtime":1658195622849},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1657875486856},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1657875963855},{"path":"/Users/liulei/Desktop/Vue/vue-frontend/node_modules/vue-loader/lib/index.js","mtime":1657875961434}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0dWRlbnRBcGkgZnJvbSAiQC9hcGkvc3R1ZGVudC5qcyI7CmltcG9ydCB1c2VyQXBpIGZyb20gIkAvYXBpL3VzZXIuanMiOwppbXBvcnQgY2xhc3NBcGkgZnJvbSAiQC9hcGkvY2xhc3NzLmpzIjsKaW1wb3J0IHNjaG9vbEFwaSBmcm9tICJAL2FwaS9zY2hvb2wuanMiOwppbXBvcnQgbWFqb3JBcGkgZnJvbSAiQC9hcGkvbWFqb3IuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhc2VBcGk6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICAgIGJhc2VVcmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfU0VSVklDRV9VUkwsCiAgICAgIHN0dWRlbnRzOiBbXSwKICAgICAgdG90YWxQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgLy/mr4/pobXmmL7npLrmnaHmlbAKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8v5b2T5YmN6aG1CiAgICAgIHRvdGFsOiAwLAogICAgICAvL+aAu+iuoQogICAgICBzZWFyY2hNYXA6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBkaXJlY3Rpb246ICIiLAogICAgICAgIGNsYXNzOiAiIiwKICAgICAgICB0ZWFjaGVyX2lkOiAiIiwKICAgICAgICBtYW5hZ2VyX2lkOiAiIgogICAgICB9LAogICAgICBzZWFyY2g6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBkaXJlY3Rpb246ICIiLAogICAgICAgIGNsYXNzOiAiIiwKICAgICAgICB0ZWFjaGVyOiAiIiwKICAgICAgICBtYW5hZ2VyOiAiIgogICAgICB9LAogICAgICBnZW5kZXJPcHRpb25zOiBbLy/mgKfliKsKICAgICAgewogICAgICAgIHR5cGU6ICIwIiwKICAgICAgICBuYW1lOiAi55S3IgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIjEiLAogICAgICAgIG5hbWU6ICLlpbMiCiAgICAgIH1dLAogICAgICBncmFkZU9wdGlvbnM6IFsvL+W5tOe6quWIl+ihqAogICAgICB7CiAgICAgICAgdHlwZTogIjEiLAogICAgICAgIG5hbWU6ICLlpKfkuIAiCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAiMiIsCiAgICAgICAgbmFtZTogIuWkp+S6jCIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICIzIiwKICAgICAgICBuYW1lOiAi5aSn5LiJIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIjQiLAogICAgICAgIG5hbWU6ICLlpKflm5siCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAiNSIsCiAgICAgICAgbmFtZTogIueglOeptueUnyIKICAgICAgfV0sCiAgICAgIGVkdWNhdGlvbk9wdGlvbnM6IFsvL+WtpuWOhuWIl+ihqAogICAgICB7CiAgICAgICAgdHlwZTogIjEiLAogICAgICAgIG5hbWU6ICLkuJPnp5EiCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAiMiIsCiAgICAgICAgbmFtZTogIuacrOenkSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICIzIiwKICAgICAgICBuYW1lOiAi56GV5aOrIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIjQiLAogICAgICAgIG5hbWU6ICLnpL7kvJrkurrlo6siCiAgICAgIH1dLAogICAgICBkaXJlY3Rpb25PcHRpb25zOiBbewogICAgICAgIHR5cGU6ICIxIiwKICAgICAgICBuYW1lOiAiV2Vi5YmN56uvIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIjIiLAogICAgICAgIG5hbWU6ICJKYXZhIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIjMiLAogICAgICAgIG5hbWU6ICJVSS9VRSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICI0IiwKICAgICAgICBuYW1lOiAiQy9DKysiCiAgICAgIH1dLAogICAgICBzY2hvb2xPcHRpb25zOiBbXSwKICAgICAgLy/lrabmoKHliJfooagKICAgICAgbWFqb3JPcHRpb25zOiBbXSwKICAgICAgLy/kuJPkuJrliJfooagKICAgICAgY2xhc3NPcHRpb25zOiBbXSwKICAgICAgLy/nj63nuqfliJfooagKICAgICAgdGVhY2hlck9wdGlvbnM6IFtdLAogICAgICAvL+aVmeW4iOWIl+ihqAogICAgICBtYW5hZ2VyT3B0aW9uczogW10gLy/lrabnrqHliJfooagKCiAgICB9OwogIH0sCgogIGZpbHRlcnM6IHsKICAgIGRhdGFGaWx0ZXIodHlwZSwgZGF0YU9wdGlvbnMpIHsKICAgICAgY29uc3Qgb2JqID0gZGF0YU9wdGlvbnMuZmluZChvYmogPT4gb2JqLnR5cGUgPT0gdHlwZSk7CiAgICAgIHJldHVybiBvYmogPyBvYmoubmFtZSA6IG51bGw7CiAgICB9LAoKICAgIHRlYWNoZXJPck1hbmFnZXJGaWx0ZXIoX2lkLCBvcHRpb25zKSB7CiAgICAgIGNvbnN0IG9iaiA9IG9wdGlvbnMuZmluZChvYmogPT4gb2JqLl9pZCA9PSBfaWQpOwogICAgICByZXR1cm4gb2JqID8gb2JqLm5hbWUgOiBudWxsOwogICAgfQoKICB9LAogIGNvbXBvbmVudHM6IHt9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFN0dWRlbnRzKCk7CiAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICB0aGlzLmdldENsYXNzTGlzdCgpOwogICAgdGhpcy5nZXRTY2hvb2xMaXN0KCk7CiAgICB0aGlzLmdldE1ham9yTGlzdCgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGZldGNoU3R1ZGVudHMoKSB7CiAgICAgIHN0dWRlbnRBcGkuZ2V0U3R1ZGVudExpc3QodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5wYWdlU2l6ZSwgdGhpcy5zZWFyY2hNYXApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdGhpcy5zdHVkZW50cyA9IHJlc3AuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3AuZGF0YS50b3RhbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRVc2VyTGlzdCgpIHsKICAgICAgdXNlckFwaS5nZXRVc2VyQWxsKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgcmVzID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMCkgewogICAgICAgICAgdGhpcy51c2VyQWxsID0gcmVzLmRhdGE7CiAgICAgICAgICB0aGlzLnVzZXJBbGwuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgaWYgKGl0ZW0ucm9sZV9pZCA9PT0gIjYyZGEwZmY0M2QzMDNiNTAxZDQwNDRjYSIpIHsKICAgICAgICAgICAgICB0aGlzLnRlYWNoZXJPcHRpb25zLnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5yb2xlX2lkID09PSAiNjJkNjdlMjNhYzI3YjEzYTBlOGJkMmU3IiB8fCAiNjJkYTE5NjkzZDMwM2I1MDFkNDA0NThhIikgewogICAgICAgICAgICAgIHRoaXMubWFuYWdlck9wdGlvbnMucHVzaChpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLy/ojrflj5bmiYDmnInnj63nuqcKICAgIGdldENsYXNzTGlzdCgpIHsKICAgICAgY2xhc3NBcGkuZ2V0Q2xhc3NBbGwoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMuY2xhc3NPcHRpb25zID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8v6I635Y+W5omA5pyJ5a2m5qChCiAgICBnZXRTY2hvb2xMaXN0KCkgewogICAgICBzY2hvb2xBcGkuZ2V0U2Nob29sQWxsKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PSAwKSB7CiAgICAgICAgICB0aGlzLnNjaG9vbE9wdGlvbnMgPSByZXNwLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLy/ojrflj5bmiYDmnInkuJPkuJoKICAgIGdldE1ham9yTGlzdCgpIHsKICAgICAgbWFqb3JBcGkuZ2V0TWFqb3JBbGwoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zdCByZXNwID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgIHRoaXMubWFqb3JPcHRpb25zID0gcmVzcC5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHNldFNyY0xpc3QoaW1nTGlzdCkgewogICAgICByZXR1cm4gaW1nTGlzdC5tYXAoaXRlbSA9PiB0aGlzLmJhc2VVcmwgKyAiL3VwbG9hZC8iICsgaXRlbSk7CiAgICB9LAoKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZmV0Y2hTdHVkZW50cygpOwogICAgfSwKCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgIH0sCgogICAgc2VhcmNoRGF0YSgpIHsKICAgICAgLy/ojrflj5bmn6Xor6LooajljZXkuK3ovpPlhaXnmoTmlZnluIjmiJblrabnrqEgIOWcqOeUqOaIt+WIl+ihqOS4reagueaNruWQjeensOafpeivouWvueW6lGlkIOi1i+WAvOWIsOafpeivouadoeS7tuWvueixoeS4rQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgY29uc3QgcmVzVGVhY2hlciA9IHRoaXMudXNlckFsbC5maW5kKGl0ZW0gPT4gaXRlbS5uYW1lID09PSB0aGlzLnNlYXJjaC50ZWFjaGVyKSB8fCB7fTsKICAgICAgY29uc3QgcmVzTWFuYWdlciA9IHRoaXMudXNlckFsbC5maW5kKGl0ZW0gPT4gaXRlbS5uYW1lID09PSB0aGlzLnNlYXJjaC5tYW5hZ2VyKSB8fCB7fTsgLy8gIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQ9cmVzVGVhY2hlci5faWQgfHwgIiIgIOS4jeWtmOWcqOaVmeW4iOi/lOWbnuaJgOacieaVsOaNrgogICAgICAvL+WmguaenOafpeivouWIsOWvueW6lOeahOaVmeW4iOWwseS4uuafpeivouadoeS7tuWvueixoeeahOaVmeW4iGlk6LWL5YC8CgogICAgICBpZiAocmVzVGVhY2hlci5faWQpIHsKICAgICAgICB0aGlzLnNlYXJjaE1hcC50ZWFjaGVyX2lkID0gcmVzVGVhY2hlci5faWQ7IC8v5aaC5p6c6L6T5YWl5LqG5pWZ5biI5ZCN56ew77yI5LiN5a2Y5Zyo55qE77yJ5bCx6LWL5YC85Li6LTEg6Ziy5q2i5ZCO56uv5p+l6K+i5pe26L+U5Zue5omA5pyJ5pWw5o2uCiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2gudGVhY2hlcikgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQgPSAiLTEiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoTWFwLnRlYWNoZXJfaWQgPSAiIjsKICAgICAgfQoKICAgICAgaWYgKHJlc01hbmFnZXIuX2lkKSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAubWFuYWdlcl9pZCA9IHJlc01hbmFnZXIuX2lkOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoLm1hbmFnZXIpIHsKICAgICAgICB0aGlzLnNlYXJjaE1hcC5tYW5hZ2VyX2lkID0gLSItMSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWFyY2hNYXAubWFuYWdlcl9pZCA9ICIiOwogICAgICB9CgogICAgICB0aGlzLnNlYXJjaE1hcC5kaXJlY3Rpb24gPSB0aGlzLnNlYXJjaC5kaXJlY3Rpb24gfHwgIiI7CiAgICAgIHRoaXMuc2VhcmNoTWFwLm5hbWUgPSB0aGlzLnNlYXJjaC5uYW1lIHx8ICIiOwogICAgICB0aGlzLnNlYXJjaE1hcC5jbGFzcyA9IHRoaXMuc2VhcmNoLmNsYXNzIHx8ICIiOwogICAgICB0aGlzLmZldGNoU3R1ZGVudHMoKTsKICAgIH0sCgogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRlbnQvdXBkYXRlLy0xYCk7CiAgICB9LAoKICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKCiAgICBhZGREYXRlKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMudXBkYXRlU3R1ZGVudC5waWN0dXJlcyA9IHRoaXMuZ2V0SW1ncygpOwogICAgICAgICAgc3R1ZGVudEFwaS5hZGRTdHVkZW50KHRoaXMudXBkYXRlU3R1ZGVudCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3AgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09IDApIHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL3N0dWRlbnQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAyMA;AACA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC,qCADA;MAEAC,wCAFA;MAGAC,YAHA;MAIAC,YAJA;MAKAC,WALA;MAKA;MACAC,cANA;MAMA;MACAC,QAPA;MAOA;MACAC;QACAC,QADA;QAEAC,aAFA;QAGAC,SAHA;QAIAC,cAJA;QAKAC;MALA,CARA;MAeAC;QACAL,QADA;QAEAC,aAFA;QAGAC,SAHA;QAIAI,WAJA;QAKAC;MALA,CAfA;MAsBAC,gBACA;MACA;QAAAC;QAAAT;MAAA,CAFA,EAGA;QAAAS;QAAAT;MAAA,CAHA,CAtBA;MA2BAU,eACA;MACA;QAAAD;QAAAT;MAAA,CAFA,EAGA;QAAAS;QAAAT;MAAA,CAHA,EAIA;QAAAS;QAAAT;MAAA,CAJA,EAKA;QAAAS;QAAAT;MAAA,CALA,EAMA;QAAAS;QAAAT;MAAA,CANA,CA3BA;MAmCAW,mBACA;MACA;QAAAF;QAAAT;MAAA,CAFA,EAGA;QAAAS;QAAAT;MAAA,CAHA,EAIA;QAAAS;QAAAT;MAAA,CAJA,EAKA;QAAAS;QAAAT;MAAA,CALA,CAnCA;MA0CAY,mBACA;QAAAH;QAAAT;MAAA,CADA,EAEA;QAAAS;QAAAT;MAAA,CAFA,EAGA;QAAAS;QAAAT;MAAA,CAHA,EAIA;QAAAS;QAAAT;MAAA,CAJA,CA1CA;MAgDAa,iBAhDA;MAgDA;MACAC,gBAjDA;MAiDA;MACAC,gBAlDA;MAkDA;MACAC,kBAnDA;MAmDA;MACAC,kBApDA,CAoDA;;IApDA;EAsDA,CAxDA;;EAyDAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACA;IACA;;EARA,CAzDA;EAmEAC,cAnEA;;EAoEAC;IACA;IACA;IACA;IACA;IACA;EACA,CA1EA;;EA2EAC;IACAC;MACAC,WACAC,cADA,CACA,gBADA,EACA,aADA,EACA,cADA,EAEAC,IAFA,CAEAC;QACA;;QACA;UACA;UACA;QACA;MACA,CARA;IASA,CAXA;;IAYAC;MACAC;QACA;;QACA;UACA;UACA;YACA;cACA;YACA,CAFA,MAEA,IACAC,+CACA,0BAFA,EAGA;cACA;YACA;UACA,CATA;QAUA;MACA,CAfA;IAgBA,CA7BA;;IA8BA;IACAC;MACAC;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA,CAtCA;;IAuCA;IACAC;MACAC;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA,CA/CA;;IAgDA;IACAC;MACAC;QACA;;QACA;UACA;QACA;MACA,CALA;IAMA,CAxDA;;IAyDAC;MACA;IACA,CA3DA;;IA4DAC;MACA;MACA;IACA,CA/DA;;IAgEAC;MACA;MACA;IACA,CAnEA;;IAoEAC;MACA;MACA;MACA,mBACA,kEADA;MAEA,mBACA,kEADA,CALA,CAOA;MAEA;;MACA;QACA,2CADA,CAEA;MACA,CAHA,MAGA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA;;MACA;MACA;MACA;MACA;IACA,CAjGA;;IAkGAC;MACA;IACA,CApGA;;IAqGAC;MACA;IACA,CAvGA;;IAwGAC;MACA;QACA;UACA;UACAnB;YACA;;YACA;cACA;YACA;UACA,CALA;QAMA,CARA,MAQA;UACA;QACA;MACA,CAZA;IAaA;;EAtHA;AA3EA","names":["data","baseApi","baseUrl","students","totalPage","pageSize","currentPage","total","searchMap","name","direction","class","teacher_id","manager_id","search","teacher","manager","genderOptions","type","gradeOptions","educationOptions","directionOptions","schoolOptions","majorOptions","classOptions","teacherOptions","managerOptions","filters","dataFilter","teacherOrManagerFilter","components","mounted","methods","fetchStudents","studentApi","getStudentList","then","response","getUserList","userApi","item","getClassList","classApi","getSchoolList","schoolApi","getMajorList","majorApi","setSrcList","handleSizeChange","handleCurrentChange","searchData","handleAdd","resetForm","addDate"],"sourceRoot":"src/views/students","sources":["Student.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 条件查询 -->\n    <el-form\n      :inline=\"true\"\n      :model=\"search\"\n      ref=\"searchForm\"\n      style=\"margin: 20px\"\n    >\n      <el-form-item prop=\"name\">\n        <el-input\n          v-model=\"search.name\"\n          placeholder=\"根据姓名查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item prop=\"directiom\">\n        <el-select\n          v-model=\"search.direction\"\n          placeholder=\"根据学习方向查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in directionOptions\"\n            :key=\"option.type\"\n            :label=\"option.name\"\n            :value=\"option.type\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"class\">\n        <el-select\n          v-model=\"search.class\"\n          placeholder=\"根据班级查询\"\n          class=\"filter-item\"\n          style=\"width: 150px\"\n        >\n          <el-option\n            v-for=\"option in classOptions\"\n            :key=\"option._id\"\n            :label=\"option.name\"\n            :value=\"option.name\"\n          >\n          </el-option>\n        </el-select>\n      </el-form-item>\n\n      <el-form-item prop=\"teacher\">\n        <el-input\n          v-model=\"search.teacher\"\n          placeholder=\"根据教师查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item prop=\"manager\">\n        <el-input\n          v-model=\"search.manager\"\n          placeholder=\"根据学管查询\"\n          style=\"width: 150px\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchData\"\n          >查询</el-button\n        >\n        <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"handleAdd\"\n          >新增</el-button\n        >\n        <el-button @click=\"resetForm('searchForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 列表 -->\n    <el-table :data=\"students\" style=\"width: 100%\" border>\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n            <el-form-item label=\"学员名字\">\n              <span>{{ props.row.name }}</span>\n            </el-form-item>\n            <el-form-item label=\"性别\">\n              <span>{{ props.row.gender | dataFilter(genderOptions) }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在学校\">\n              <span>{{ props.row.school }}</span>\n            </el-form-item>\n            <el-form-item label=\"专业\">\n              <span>{{ props.row.major }}</span>\n            </el-form-item>\n            <el-form-item label=\"年纪\">\n              <span>{{ props.row.grade }}</span>\n            </el-form-item>\n            <el-form-item label=\"学历\">\n              <span>{{\n                props.row.education | dataFilter(educationOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学习方向\">\n              <span>{{\n                props.row.direction | dataFilter(directionOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"身份证号\">\n              <span>{{ props.row.id_number }}</span>\n            </el-form-item>\n            <el-form-item label=\"联系电话\">\n              <span>{{ props.row.phone }}</span>\n            </el-form-item>\n            <el-form-item label=\"家长姓名\">\n              <span>{{ props.row.parent }}</span>\n            </el-form-item>\n            <el-form-item label=\"家庭住址\">\n              <span>{{ props.row.address }}</span>\n            </el-form-item>\n            <el-form-item label=\"QQ号码\">\n              <span>{{ props.row.qq }}</span>\n            </el-form-item>\n            <el-form-item label=\"所在班级\">\n              <span>{{ props.row.class }}</span>\n            </el-form-item>\n            <el-form-item label=\"入学时间\">\n              <span>{{ props.row.admisson_date }}</span>\n            </el-form-item>\n            <el-form-item label=\"授课教师\">\n              <span>{{\n                props.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"学管\">\n              <span>{{\n                props.row.manager_id | teacherOrManagerFilter(managerOptions)\n              }}</span>\n            </el-form-item>\n            <el-form-item label=\"照片\">\n              <!-- <span>{{ props.row.pictures }}</span> -->\n              <el-image\n                :key=\"index\"\n                v-for=\"(item, index) in props.row.pictures\"\n                style=\"width: 200px\"\n                :src=\"baseUrl + '/upload/' + item\"\n                :preview-src-list=\"setSrcList(prop.row.pictures)\"\n              >\n              </el-image>\n            </el-form-item>\n            <el-form-item label=\"备注\">\n              <span>{{ props.row.note }}</span>\n            </el-form-item>\n          </el-form>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"序号\" type=\"index\" width=\"100px\">\n      </el-table-column>\n      <el-table-column label=\"学员姓名\" prop=\"name\" width=\"150px\">\n      </el-table-column>\n      <el-table-column label=\"性别\" prop=\"gender\" width=\"80px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.gender | dataFilter(genderOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学习方向\" prop=\"direction\" width=\"100px\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.direction | dataFilter(directionOptions) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系电话\" prop=\"phone\"> </el-table-column>\n      <el-table-column label=\"所在班级\" prop=\"class\"> </el-table-column>\n      <el-table-column label=\"授课教师\" prop=\"teacher_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.teacher_id | teacherOrManagerFilter(teacherOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"学管\" prop=\"manager_id\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            scope.row.manager_id | teacherOrManagerFilter(managerOptions)\n          }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport studentApi from \"@/api/student.js\";\nimport userApi from \"@/api/user.js\";\nimport classApi from \"@/api/classs.js\";\nimport schoolApi from \"@/api/school.js\";\nimport majorApi from \"@/api/major.js\";\nexport default {\n  data() {\n    return {\n      baseApi: process.env.VUE_APP_BASE_API,\n      baseUrl: process.env.VUE_APP_SERVICE_URL,\n      students: [],\n      totalPage: 1,\n      pageSize: 5, //每页显示条数\n      currentPage: 1, //当前页\n      total: 0, //总计\n      searchMap: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher_id: \"\",\n        manager_id: \"\",\n      },\n      search: {\n        name: \"\",\n        direction: \"\",\n        class: \"\",\n        teacher: \"\",\n        manager: \"\",\n      },\n      genderOptions: [\n        //性别\n        { type: \"0\", name: \"男\" },\n        { type: \"1\", name: \"女\" },\n      ],\n      gradeOptions: [\n        //年纪列表\n        { type: \"1\", name: \"大一\" },\n        { type: \"2\", name: \"大二\" },\n        { type: \"3\", name: \"大三\" },\n        { type: \"4\", name: \"大四\" },\n        { type: \"5\", name: \"研究生\" },\n      ],\n      educationOptions: [\n        //学历列表\n        { type: \"1\", name: \"专科\" },\n        { type: \"2\", name: \"本科\" },\n        { type: \"3\", name: \"硕士\" },\n        { type: \"4\", name: \"社会人士\" },\n      ],\n      directionOptions: [\n        { type: \"1\", name: \"Web前端\" },\n        { type: \"2\", name: \"Java\" },\n        { type: \"3\", name: \"UI/UE\" },\n        { type: \"4\", name: \"C/C++\" },\n      ],\n      schoolOptions: [], //学校列表\n      majorOptions: [], //专业列表\n      classOptions: [], //班级列表\n      teacherOptions: [], //教师列表\n      managerOptions: [], //学管列表\n    };\n  },\n  filters: {\n    dataFilter(type, dataOptions) {\n      const obj = dataOptions.find((obj) => obj.type == type);\n      return obj ? obj.name : null;\n    },\n    teacherOrManagerFilter(_id, options) {\n      const obj = options.find((obj) => obj._id == _id);\n      return obj ? obj.name : null;\n    },\n  },\n  components: {},\n  mounted() {\n    this.fetchStudents();\n    this.getUserList();\n    this.getClassList();\n    this.getSchoolList();\n    this.getMajorList();\n  },\n  methods: {\n    fetchStudents() {\n      studentApi\n        .getStudentList(this.currentPage, this.pageSize, this.searchMap)\n        .then((response) => {\n          const resp = response.data;\n          if (resp.status == 0) {\n            this.students = resp.data.data;\n            this.total = resp.data.total;\n          }\n        });\n    },\n    getUserList() {\n      userApi.getUserAll().then((response) => {\n        const res = response.data;\n        if (res.status == 0) {\n          this.userAll = res.data;\n          this.userAll.forEach((item) => {\n            if (item.role_id === \"62da0ff43d303b501d4044ca\") {\n              this.teacherOptions.push(item);\n            } else if (\n              item.role_id === \"62d67e23ac27b13a0e8bd2e7\" ||\n              \"62da19693d303b501d40458a\"\n            ) {\n              this.managerOptions.push(item);\n            }\n          });\n        }\n      });\n    },\n    //获取所有班级\n    getClassList() {\n      classApi.getClassAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.classOptions = resp.data;\n        }\n      });\n    },\n    //获取所有学校\n    getSchoolList() {\n      schoolApi.getSchoolAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.schoolOptions = resp.data;\n        }\n      });\n    },\n    //获取所有专业\n    getMajorList() {\n      majorApi.getMajorAll().then((response) => {\n        const resp = response.data;\n        if (resp.status == 0) {\n          this.majorOptions = resp.data;\n        }\n      });\n    },\n    setSrcList(imgList) {\n      return imgList.map((item) => this.baseUrl + \"/upload/\" + item);\n    },\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.fetchStudents();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.fetchStudents();\n    },\n    searchData() {\n      //获取查询表单中输入的教师或学管  在用户列表中根据名称查询对应id 赋值到查询条件对象中\n      this.currentPage = 1;\n      const resTeacher =\n        this.userAll.find((item) => item.name === this.search.teacher) || {};\n      const resManager =\n        this.userAll.find((item) => item.name === this.search.manager) || {};\n      //  this.searchMap.teacher_id=resTeacher._id || \"\"  不存在教师返回所有数据\n\n      //如果查询到对应的教师就为查询条件对象的教师id赋值\n      if (resTeacher._id) {\n        this.searchMap.teacher_id = resTeacher._id;\n        //如果输入了教师名称（不存在的）就赋值为-1 防止后端查询时返回所有数据\n      } else if (this.search.teacher) {\n        this.searchMap.teacher_id = \"-1\";\n      } else {\n        this.searchMap.teacher_id = \"\";\n      }\n      if (resManager._id) {\n        this.searchMap.manager_id = resManager._id;\n      } else if (this.search.manager) {\n        this.searchMap.manager_id = -\"-1\";\n      } else {\n        this.searchMap.manager_id = \"\";\n      }\n      this.searchMap.direction = this.search.direction || \"\";\n      this.searchMap.name = this.search.name || \"\";\n      this.searchMap.class = this.search.class || \"\";\n      this.fetchStudents();\n    },\n    handleAdd() {\n      this.$router.push(`/student/update/-1`);\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    addDate(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.updateStudent.pictures = this.getImgs();\n          studentApi.addStudent(this.updateStudent).then((response) => {\n            const resp = response.data;\n            if (resp.status == 0) {\n              this.$router.replace(\"/student\");\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n</style>"]}]}